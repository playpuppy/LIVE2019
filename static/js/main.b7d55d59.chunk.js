(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{317:function(e,t,n){e.exports=n(435)},326:function(e,t,n){},327:function(e,t,n){},328:function(e,t,n){},417:function(e,t,n){},418:function(e,t,n){},419:function(e,t,n){},420:function(e,t,n){},435:function(e,t,n){"use strict";n.r(t);var r,i=n(2),a=n.n(i),o=n(95),s=n.n(o),c=n(113),u=(n(326),n(327),n(447)),l=n(445),h=n(313),p=n(450),f=n(452),d=n(451),v=(n(328),function(e){return Object(i.useEffect)(function(){e.fetchCourses()},[]),a.a.createElement("div",{className:"Header",id:"puppy-header"},a.a.createElement(p.a,{bg:"white",variant:"light",expand:"lg"},a.a.createElement(p.a.Brand,{onClick:function(){return e.setShow(!0)}},a.a.createElement("img",{src:"./image/logo.png",width:"25",height:"25",className:"d-inline-block align-top"})," Puppy"),a.a.createElement(f.a,{className:"mr-auto"},a.a.createElement(d.a,{title:e.course.title,id:"nav-dropdown-courses"},Object.keys(e.courses).map(function(t){var n=e.courses[t];return a.a.createElement(d.a,{title:n.title,id:"nav-dropdown-pages-".concat(n.title),drop:"right",key:n.title},n.list.map(function(e,n){return a.a.createElement(d.a.Item,{href:"?course=".concat(t,"#").concat(n),key:n},e.title)}))})))))}),y=n(100),b=n.n(y),m=n(159),g=n(145),E=n(148);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e.SET_SIZE="SET_SIZE",e.SET_CODE="SET_CODE",e.SET_CODEEDITOR="SET_CODEEDITOR",e.SET_FONTSIZE="SET_FONTSIZE",e.SET_DECORATION="SET_DECORATION",e.SET_MARKER="SET_MARKER",e.SET_THEME="SETTHEME",e.SET_DIFFSTARTLINENUMBER="SET_DIFFSTARTLINENUMBER"}(r||(r={}));var S,O=function(e){return{type:r.SET_CODE,payload:{code:e}}},x=function(e){return{type:r.SET_DECORATION,payload:{decoration:e}}},_=function(e){switch(e){case"error":return E.MarkerSeverity.Error;case"info":return E.MarkerSeverity.Info;case"warning":return E.MarkerSeverity.Warning;case"hint":return E.MarkerSeverity.Hint}},T=function(e){return{type:r.SET_THEME,payload:{theme:e}}},A={width:500,height:500,code:"",codeEditor:null,theme:"vs",fontSize:30,decoration:[],markers:[],diffStartLineNumber:null},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case r.SET_SIZE:return k({},e,{width:t.payload.width,height:t.payload.height});case r.SET_CODE:return k({},e,{code:t.payload.code});case r.SET_CODEEDITOR:return k({},e,{codeEditor:t.payload.codeEditor});case r.SET_FONTSIZE:return k({},e,{fontSize:t.payload.value});case r.SET_DECORATION:return k({},e,{decoration:t.payload.decoration});case r.SET_MARKER:return E.editor.setModelMarkers(e.codeEditor.getModel(),"puppy",t.payload.markers),k({},e,{codeEditor:e.codeEditor,markers:t.payload.markers});case r.SET_THEME:return k({},e,{theme:t.payload.theme});case r.SET_DIFFSTARTLINENUMBER:return k({},e,{diffStartLineNumber:t.payload.startLineNumber});default:return e}};function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e.SET_CONTENT="SET_CONTENT",e.SET_COURSES="SET_COURCES",e.SET_COURSE="SET_COURSE",e.SET_VISIBLE="SET_VISIBLE"}(S||(S={}));var C,P=function(e){return{type:S.SET_CONTENT,payload:{content:e}}},L=function(e){return{type:S.SET_COURSE,payload:{course:e}}},M=function(e){return{type:S.SET_VISIBLE,payload:{visible:e}}},F={content:"# Hello World \n\n Rendered by **marked**",courses:{},course:{title:"",list:[]},coursePath:"",page:0,visible:!0},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S.SET_CONTENT:return I({},e,{content:t.payload.content});case S.SET_COURSES:return I({},e,{courses:t.payload.courses});case S.SET_COURSE:return I({},e,{course:t.payload.course});case S.SET_VISIBLE:return I({},e,{visible:t.payload.visible});default:return e}};function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e.SET_SIZE="SET_SIZE",e.SET_PUPPY="SET_PUPPY",e.SET_ISLIVE="SET_ISLIVE"}(C||(C={}));var z,V={width:500,height:500,puppy:null,isLive:!0},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:V,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case C.SET_SIZE:return e.puppy&&e.puppy.resize(t.payload.width,t.payload.height),B({},e,{width:t.payload.width,height:t.payload.height});case C.SET_PUPPY:return B({},e,{puppy:t.payload.puppy});case C.SET_ISLIVE:return B({},e,{isLive:t.payload.isLive});default:return e}};function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function U(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}!function(e){e.SET_VALUE="SET_VALUE",e.SET_SHOW="SET_SHOW",e.SET_PLACEHOLDER="SET_PLACEHOLDER"}(z||(z={}));var G,K=function(e){return{type:z.SET_SHOW,payload:{show:e}}},q={value:"",show:!1,placeholder:""},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z.SET_VALUE:return U({},e,{value:t.payload.value});case z.SET_SHOW:return t.payload.show?{value:"",show:t.payload.show,placeholder:""}:U({},e,{show:t.payload.show});case z.SET_PLACEHOLDER:return U({},e,{placeholder:t.payload.placeholder});default:return e}},Y=n(59),Z=n(93),J=n(310),Q=n(47),$=n(112),ee=n(110),te=n(111),ne=Q.Bodies,re=Q.Composite,ie=Q.Common,ae={radius:function(e,t,n){t.radius=n,"circle"===t.base&&(t.width=2*n,t.height=2*n)},width:function(e,t,n){t.width=n,"circle"===t.base&&(t.radius=n/2,t.height=n)},height:function(e,t,n){t.height=n,"circle"===t.base&&(t.radius=n/2,t.width=n)},fillStyle:function(e,t,n){t.fillStyle=function(e,t){if(Array.isArray(t)&&(t=ie.choose(t)),"number"===typeof t){var n=e.world.colorScheme;return n[t%n.length]}return t}(e,n)}},oe=function(e,t,n,r){return n in ae?ae[n](e,t,r):t[n]=r,r},se=function(e,t,n,r){return t[n]?oe(e,t,n,t[n]):r?oe(e,t,n,r):void 0},ce=function(e,t){return Object.assign(t,{base:"circle",visible:!0}),se(e,t,"height"),se(e,t,"width"),se(e,t,"radius",25),se(e,t,"fillStyle",ie.choose(e.world.colorScheme)),ne.circle(t.position.x,t.position.y,t.radius,t)},ue=function(e,t){return Object.assign(t,{base:"rectangle",visible:!0}),se(e,t,"width",100),se(e,t,"height",100),se(e,t,"fillStyle",t.isStatic?"black":ie.choose(e.world.colorScheme)),ne.rectangle(t.position.x,t.position.y,t.width,t.height,t)},le=function(e,t){Object.assign(t,{base:"polygon",visible:!0});var n=se(e,t,"sides",5);return se(e,t,"height"),se(e,t,"width"),se(e,t,"radius",25),ne.polygon(t.position.x,t.position.y,n,t.radius,t)},he=function(e,t){return Object.assign(t,{base:"rectangle",isSensor:!0,isStatic:!0,visible:!0,collisionFilter:{category:1,mask:0,group:3}}),se(e,t,"width",10),se(e,t,"height",10),se(e,t,"fontColor",ie.choose(e.world.colorScheme)),se(e,t,"fillStyle","rgba(255, 255, 255, 0)"),ne.rectangle(t.position.x,t.position.y,t.width,t.height,t)},pe=function(e,t){return Object.assign(t,{base:"circle",isSensor:!0,isStatic:!0,visible:!0,collisionFilter:{category:1,mask:0,group:3},created:e.getTimeStamp()}),se(e,t,"height"),se(e,t,"width"),se(e,t,"radius",10),se(e,t,"fillStyle",0),se(e,t,"opacity",.8),ne.circle(t.position.x,t.position.y,t.radius,t)},fe=function(e,t){for(var n=se(e,t,"column",5),r=se(e,t,"width",e.world.viewWidth/2),i=se(e,t,"height",e.world.viewWidth/2),a=r/(2*n),o=t.position.x-r/2,s=t.position.y-i/2,c=Q.Composite.create({label:"Newtons Cradle"}),u=0;u<n;u+=1){var l={visible:!0,fillStyle:ie.choose(e.world.colorScheme),inertia:t.interia||1/0,restitution:t.restitution||1,friction:t.friction||0,frictionAir:t.frictionAir||1e-4,slop:t.slop||1},h=Q.Bodies.circle(o+u*(1.9*a),s+i,a,l),p=Q.Constraint.create({pointA:{x:o+u*(1.9*a),y:s},bodyB:h,render:{visible:!0,lineWidth:1|t.lineWidth,strokeStyle:t.strokeStyle||"gray"}});re.addBody(c,h),re.addConstraint(c,p)}return console.log(c),console.log(c.parts),c},de=Q.Common,ve={pop:["#de9610","#c93a40","#fff001","#d06d8c","#65ace4","#a0c238","#56a764","#d16b16","#cc528b","#9460a0","#f2cf01","#0074bf"],cute:["#e2b2c0","#fff353","#a5d1f4","#e4ad6d","#d685b0","#dbe159","#7fc2ef","#c4a6ca","#eabf4c","#f9e697","#b3d3ac","#eac7cd"],dynamic:["#b80117","#222584","#00904a","#edc600","#261e1c","#6d1782","#8f253b","#a0c238","#d16b16","#0168b3","#b88b26","#c30068"],gorgeous:["#7d0f80","#b08829","#a03c44","#018a9a","#ab045c","#391d2b","#d5a417","#546474","#0f5ca0","#d0b98d","#d4c91f","#c1541c"],casual:["#7b9ad0","#f8e352","#c8d627","#d5848b","#e5ab47","#e1cea3","#51a1a2","#b1d7e4","#66b7ec","#c08e47","#ae8dbc","#c3cfa9"],psychedelic:["#b7007c","#009b85","#382284","#e2c80f","#009dc6","#c4c829","#95007e","#d685b0","#eee800","#bf5116","#b80e3b","#0178bc"],bright:["#fff001","#cb5393","#a0c238","#d78114","#00a5e7","#cd5638","#0168b3","#d685b0","#00984b","#f2cf01","#6bb6bb","#a563a0"],fairytale:["#cca9ca","#9bcad0","#dd9dbf","#edef9c","#aabade","#f2dae8","#c7ddae","#a199c8","#faede5","#d5a87f","#f7f06e","#95bfe7"],heavy:["#000000","#998c69","#5c002f","#244765","#814523","#5e2a58","#1a653c","#6a6a68","#bf7220","#5f556e","#84762f","#872226"],impact:["#c60019","#fff001","#1d4293","#00984b","#019fe6","#c2007b","#261e1c","#7d0f80","#dc9610","#dbdf19","#d685b0","#a0c238"],street:["#33476a","#211917","#6c7822","#c2007b","#44aeea","#5e3032","#d16b16","#c8d627","#9193a0","#816945","#c50030","#0080c9"],cool:["#b0d7f4","#c0cbe9","#eef0b1","#44aeea","#85beab","#c4a6ca","#f7f06e","#c8d627","#bcccd9","#e4f0fc","#f2dae8","#6490cd"],elegant:["#ae8dbc","#e3b3cd","#d6ddf0","#e5d57d","#82c0cd","#afc7a7","#834e62","#6a9176","#7f7eb8","#a04e90","#dbbc86","#c4c829"],fresh:["#70b062","#c8d85b","#f8e133","#dbdf19","#e3ab30","#dd9dbf","#a979ad","#cd5638","#399548","#6bb6bb","#f7f39c","#9acce3"],warm:["#c59f22","#dd9b9d","#ebcc00","#d6d11d","#8d4f42","#d8836e","#f8e469","#cbb586","#e4aa01","#eac287","#f2d8bf","#a6658d"],soft:["#f8e469","#e7e0aa","#d9de84","#e4bd60","#9ac29f","#e3be87","#edef9c","#dd9b9d","#b2d6d4","#f5dfa6","#ebeddf","#e1d4e6"],man:["#23466e","#4d639f","#dfe0d8","#1d695f","#9aadbe","#844f30","#934e61","#7e9895","#77aad7","#848a96","#a76535","#7e8639"],woman:["#7b0050","#a8006d","#bea620","#a26c54","#949b34","#614983","#cba777","#de9610","#bd8683","#be87a6","#bf5346","#e1d0b4"],boy:["#0168b3","#66b7ec","#afd0ef","#88b83e","#b8b2d6","#6bb6bb","#5e4694","#f2cf01","#c6e2f8","#d5dbcf","#7a8bc3","#e8e6f3"],girl:["#d06da3","#c2d3ed","#be91bc","#c73576","#f8e352","#c8d627","#e3b3cd","#c6e0d5","#e4ab5a","#cb6c58","#845d9e","#82c0cd"],smart:["#4d639f","#356c92","#c9ced1","#dfd4be","#92a1a6","#a67b2d","#bda5bb","#2c4b79","#d6d680","#babea5","#ebc175","#3a614f"],light:["#44aeea","#b4cb32","#b2b6db","#b2d6d4","#ebe9ae","#0080c9","#71b174","#e4c4db","#7da8db","#eac39a","#dbe585","#6db5a9"],stylish:["#58656e","#bac1c7","#487ca3","#dfd4be","#004679","#c0542d","#a44682","#9599b2","#d6d680","#8eb4d9","#6c5776","#499475"],natural:["#ba9648","#87643e","#c2b5d1","#ba7d8c","#b8ac60","#797c85","#f9ebd1","#9cb1c2","#81a47a","#acb130","#8b342a","#acae98"],spring:["#dd9cb4","#eeea55","#ebc061","#b2d6d4","#f2dae8","#c9d744","#b8b2d6","#afd0ef","#d7847e","#f8e352","#b3ce5b","#cbacbe"],summer:["#174e9e","#68b8dd","#d16b16","#88b83e","#f2cf01","#019fe6","#c60019","#019c96","#b0d7f4","#fff001","#0074bf","#c83955"],fall:["#ae3c22","#902342","#c59f22","#7e8639","#eabd00","#a49e2e","#ac5238","#9f832f","#ba7c6f","#875f3b","#bba929","#786b4b"],winter:["#a5aad4","#6591b6","#623d82","#5f897b","#858aa0","#eff3f6","#c2d3dd","#4f616f","#7f7073","#42629f","#674c51","#b38da4"],japan:["#c3003a","#3a546b","#d5a02e","#918d43","#787cac","#604439","#6f2757","#c1541c","#565d63","#afc9ca","#baaa52","#e2b2c0"],euro:["#bf541c","#25a4b7","#e4aa01","#b2bfe1","#ad438e","#1d4293","#b71232","#e8e2be","#b0bf30","#6aa43e","#6276b5","#d7832d"],nordic:["#149bdf","#dbdf19","#c97a2b","#945141","#9abca4","#a5a79a","#e6d9b9","#eabd00","#bf545e","#86b070","#665e51","#b59a4d"],asian:["#946761","#b80040","#4eacb8","#7f1f69","#c8b568","#147472","#1d518b","#b1623b","#95a578","#b9b327","#af508a","#dab100"]},ye=function(e){for(var t=(e in ve?ve[e]:ve[de.choose(["pop","cute","dynamic","gorgeous","casual","psychedelic","bright","fairytale","heavy","impact","street","cool","elegant","fresh","warm","soft","man","woman","boy","girl","smart","light","stylish","natural","spring","summer","fall","winter","japan","euro","nordic","asian"])]),n=document.getElementsByClassName("btn"),r=0;r<n.length;r+=1)n[r].style.backgroundColor=t[r%t.length],n[r].style.borderColor=t[r%t.length];return t},be=Q.Engine,me=Q.Runner,ge=function(e){var t=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=new Image,t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")||t.startsWith("/")?n.src=t:n.src="/image/".concat(t),n)};return e.bodies=function(e,n,r){for(var i=r,a=e.options,o=a.showInternalEdges||!a.wireframes,s=a.font||"bold 60px 'Arial'",c=a.fontColor||"gray",u=0;u<n.length;u+=1){var l=n[u];if(l.visible)for(var h=l.parts.length>1?1:0;h<l.parts.length;h+=1){var p=l.parts[h];if(p.visible){if(1!==p.opacity&&(i.globalAlpha=p.opacity),p.image){var f=t(e,p.image);i.translate(p.position.x,p.position.y),i.rotate(p.angle),i.drawImage(f,-.5*p.width,-.5*p.height,p.width,p.height),i.rotate(-p.angle),i.translate(-p.position.x,-p.position.y)}else{if(p.circleRadius)i.beginPath(),i.arc(p.position.x,p.position.y,p.circleRadius,0,2*Math.PI);else{i.beginPath(),i.moveTo(p.vertices[0].x,p.vertices[0].y);for(var d=1;d<p.vertices.length;d+=1)!p.vertices[d-1].isInternal||o?i.lineTo(p.vertices[d].x,p.vertices[d].y):i.moveTo(p.vertices[d].x,p.vertices[d].y),p.vertices[d].isInternal&&!o&&i.moveTo(p.vertices[(d+1)%p.vertices.length].x,p.vertices[(d+1)%p.vertices.length].y);i.lineTo(p.vertices[0].x,p.vertices[0].y),i.closePath()}a.wireframes?(i.lineWidth=1,i.strokeStyle="#bbb",i.stroke()):(i.fillStyle=p.fillStyle,p.lineWidth&&(i.lineWidth=p.lineWidth,i.strokeStyle=p.strokeStyle,i.stroke()),i.fill())}void 0!==p.value&&(p.ref&&(p.value=p.ref()),i.save(),i.font=p.font||s,i.fillStyle=p.fontColor||c,i.textAlign=p.textAlign||"center",p.shadowColor&&(i.shadowColor=p.shadowColor,i.shadowBlur=i.shadowBlur||0,i.shadowOffsetX=i.shadowOffsetX||2,i.shadowOffsetY=i.shadowOffsetY||2),i.fillText("".concat(p.value),p.position.x,p.position.y+10),i.restore()),i.globalAlpha=1}}}},e}(Q.Render),Ee=Q.Constraint,we=Q.MouseConstraint,ke=Q.Mouse,Se=Q.World,Oe=Q.Bounds,xe=Q.Vertices,_e=Q.Detector,Te=Q.Common,Ae=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];Object(Y.a)(this,e),this.settings=void 0,this.code=void 0,this.world=void 0,this.interval=void 0,this.waitRestart=void 0,this.isExecuting=void 0,this.runner=void 0,this.engine=void 0,this.render=void 0,this.canvas=void 0,this.vars=void 0,this.new_=function(e,t,n,i){i.position||(i.position={x:t,y:n});var a=e(r,i);return Se.add(r.engine.world,[a]),a},this.Circle=function(e,t,n){return r.new_(r.vars.Circle,e,t,n)},this.Rectangle=function(e,t,n){return r.new_(r.vars.Rectangle,e,t,n)},this.Polygon=function(e,t,n){return r.new_(r.vars.Polygon,e,t,n)},this.Label=function(e,t,n){return r.new_(r.vars.Label,e,t,n)},this.World=function(e,t,n){if(r.engine&&r.world){r.world.viewWidth=e,r.world.viewHeight=t;var i=r.world.view.min;r.world.view={min:i,max:{x:i.x+e,y:i.y+t}},r.resize(r.render.options.width,r.render.options.height),ge.lookAt(r.render,r.world.view),n&&Object.keys(n).map(function(e){r.world&&e in r.world&&("background"==e&&(r.render.options.background=n.background),r.world[e]=n[e]),r.engine&&e in r.engine.world&&(r.engine.world[e]=n[e])})}},this.settings=t,this.code=n,this.world=null,this.interval=500,this.waitRestart=i,this.isExecuting=!1,this.runner=null,this.engine=null,this.render=null,this.canvas=null,this.vars={}}return Object(Z.a)(e,[{key:"initCode",value:function(){var e=this.code,t=e.world.width||1e3,n=e.world.height||1e3,r=e.world.viewWidth||t,i=e.world.viewHeight||n,a=e.world.position||{x:0,y:0};this.code=e,this.world={width:t,height:n,viewWidth:r,viewHeight:i,background:e.world.background||"white",gravity:e.world.gravitiy||{x:0,y:1},colorScheme:ye(e.world.colorScheme||""),opacity:e.world.opacity||1,font:e.world.font||"bold 60px 'Arial'",view:e.world.view||{min:a,max:{x:a.x+r,y:a.y+i}},density:e.world.density||.001,friction:e.world.friction||.1,airFriction:e.world.airFriction||.01,frictionStatic:e.world.frictionStatic||.5,motion:e.world.motion||0,restitution:e.world.restitution||0}}},{key:"startCode",value:function(){var e=this;if(this.engine=be.create(),this.world.gravity){var t=this.engine;window.addEventListener("deviceorientation",function(e){var n=window.orientation||0,r=t.world.gravity;0===n?(r.x=Te.clamp(e.gamma,-90,90)/90,r.y=Te.clamp(e.beta,-90,90)/90):180===n?(r.x=Te.clamp(e.gamma,-90,90)/90,r.y=Te.clamp(-e.beta,-90,90)/90):90===n?(r.x=Te.clamp(e.beta,-90,90)/90,r.y=Te.clamp(-e.gamma,-90,90)/90):-90===n&&(r.x=Te.clamp(-e.beta,-90,90)/90,r.y=Te.clamp(e.gamma,-90,90)/90)})}Q.Events.on(this.engine,"beforeUpdate",function(){var t=e.engine.timing.timestamp;e.settings.eachUpdate&&e.settings.eachUpdate(t);for(var n=Q.Composite.allBodies(e.engine.world),r=0;r<n.length;r+=1){var i=n[r];i.move&&i.move(i,t)}}),Q.Events.on(this.engine,"collisionActive",function(e){for(var t=e.pairs,n=0;n<t.length;n+=1){var r=t[n];r.bodyA.collisionActive&&r.bodyA.collisionActive(r.bodyA,r.bodyB),r.bodyB.collisionActive&&r.bodyB.collisionActive(r.bodyB,r.bodyA)}}),Q.Events.on(this.engine,"collisionStart",function(e){for(var t=e.pairs,n=0;n<t.length;n+=1){var r=t[n];r.bodyA.collisionStart&&r.bodyA.collisionStart(r.bodyA,r.bodyB),r.bodyB.collisionStart&&r.bodyB.collisionStart(r.bodyB,r.bodyA)}}),Q.Events.on(this.engine,"collisionEnd",function(e){for(var t=e.pairs,n=0;n<t.length;n+=1){var r=t[n];r.bodyA.collisionEnd&&r.bodyA.collisionEnd(r.bodyA,r.bodyB),r.bodyB.collisionEnd&&r.bodyB.collisionEnd(r.bodyB,r.bodyA)}}),this.runner=me.create({isFixed:!1});var n=document.getElementById(this.settings.canvas),r=n.clientWidth,i=n.clientWidth*this.world.height/this.world.width;i>n.clientHeight&&(i=n.clientHeight,r=n.clientHeight*this.world.width/this.world.height);var a={element:n,engine:this.engine,options:{width:r,height:i,background:this.world.background,font:this.world.font,wireframes:!1}};this.render=ge.create(a),this.canvas=this.render.canvas,ge.lookAt(this.render,this.world.view);var o,s=ke.create(this.render.canvas),c={pointA:{x:0,y:0},pointB:{x:0,y:0},stiffness:this.world.mouseStiffness||.2,render:{visible:!1}},u=we.create(this.engine,{mouse:s,constraint:Ee.create(c)});Se.add(this.engine.world,u),this.render.mouse=s,Q.Events.on(u,"mousedown",function(t){for(var n=t.mouse,r=t.sourcebody,i=Q.Composite.allBodies(e.engine.world),a=0;a<i.length;a+=1)if(r=i[a],Oe.contains(r.bounds,n.position)&&_e.canCollide(r.collisionFilter,u.collisionFilter))for(var o=r.parts.length>1?1:0;o<r.parts.length;o+=1){var s=r.parts[o];if(s.clicked&&xe.contains(s.vertices,n.position)){s.clicked(s);break}}}),this.vars=(o={},Object.assign(o,{Circle:ce,Rectangle:ue,Polygon:le,Label:he,Drop:pe,Pendulum:fe}),o),me.run(this.runner,this.engine),ge.run(this.render)}},{key:"dispose",value:function(){this.engine&&(Se.clear(this.engine.world,!1),be.clear(this.engine)),this.runner&&me.stop(this.runner),this.render&&(ge.stop(this.render),this.render.canvas.remove(),this.render.textures={})}},{key:"getCode",value:function(){return this.code}},{key:"getCanvas",value:function(){return this.canvas}},{key:"resize",value:function(e,t){var n=e,r=e*this.world.viewHeight/this.world.viewWidth;r>t&&(r=t,n=t*this.world.viewWidth/this.world.viewHeight),this.canvas.setAttribute("width",n.toString()),this.canvas.setAttribute("height",r.toString()),this.render.options.width=n,this.render.options.height=r}},{key:"wait",value:function(){var e=Object(m.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise(function(e){return setTimeout(e,t)});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"waitForRun",value:function(){var e=Object(m.a)(b.a.mark(function e(t){return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.waitRestart){e.next=5;break}return e.next=3,this.wait(t);case 3:e.next=0;break;case 5:this.runner.enabled=!0;case 6:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"execute_main",value:function(){var e=Object(m.a)(b.a.mark(function e(){var t,n,r,i,a,o,s,c,u;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=mn(),this.isExecuting=!0,n=!0,r=!1,e.prev=4,a=Object(J.a)(this.code.main(this));case 6:return e.next=8,a.next();case 8:return o=e.sent,n=o.done,e.next=12,o.value;case 12:if(s=e.sent,n){e.next=27;break}if(!((c=s)<t&&bn())){e.next=19;break}for(u=0;u<this.interval/this.runner.delta;u+=1)this.engine=be.update(this.engine,void 0,void 0);e.next=24;break;case 19:return gn(c,c),e.next=22,this.waitForRun(1e3);case 22:return e.next=24,this.wait(this.interval);case 24:n=!0,e.next=6;break;case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(4),r=!0,i=e.t0;case 33:if(e.prev=33,e.prev=34,n||null==a.return){e.next=38;break}return e.next=38,a.return();case 38:if(e.prev=38,!r){e.next=41;break}throw i;case 41:return e.finish(38);case 42:return e.finish(33);case 43:this.isExecuting=!1,En();case 45:case"end":return e.stop()}},e,this,[[4,29,33,43],[34,,38,42]])}));return function(){return e.apply(this,arguments)}}()},{key:"isRunning",value:function(){return this.runner&&this.runner.enabled}},{key:"runCode",value:function(){this.initCode(),this.dispose(),this.startCode(),this.runner.enabled=!this.waitRestart,this.execute_main()}},{key:"pause",value:function(){this.waitRestart=!0,this.runner.enabled=!1}},{key:"start",value:function(){this.isExecuting?this.waitRestart=!1:this.runner.enabled=!0}},{key:"getTimeStamp",value:function(){return this.engine.timing.timestamp}},{key:"ln",value:function(e){return this.code.lines[e]}},{key:"input",value:function(){var e=Object(m.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.runner.enabled=!1,e.next=3,yn(t||"");case 3:return n=e.sent,this.runner.enabled=!0,this.waitForRun(500),console.log("input ".concat(n)),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"input0",value:function(){var e=Object(m.a)(b.a.mark(function e(t){var n,r,i,a;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.runner.enabled=!1,n=function(e){return new Promise(function(t){var n=t;e.addEventListener("click",n,{once:!0})})},r=document.getElementById("inputtext"),i=function(){var e=Object(m.a)(b.a.mark(function e(){var t,i;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=document.querySelector("#submitInput"),i="",document.getElementById("submitInput").onclick=function(){document.getElementById("myOverlay").style.display="none",i=r.value,r.value=""},e.next=5,n(t);case 5:return e.abrupt("return",i);case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),r.placeholder=t||"Input here",document.getElementById("myOverlay").style.display="block",e.next=8,i();case 8:return a=e.sent,this.runner.enabled=!0,this.waitForRun(500),e.abrupt("return",a);case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"print",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=this.world.width,i=Te.extend({shape:"label",value:"".concat(e),created:this.getTimeStamp(),move:function(e,n){var i=r-100*(n-e.created)*.003;Q.Body.setPosition(e,{x:i,y:e.position.y}),i<-1&&Se.remove(t.engine.world,e)}},n),a=this.world.width,o=this.world.height*(.9*Math.random()+.05);this.new_(this.vars.Label,a,o,i)}},{key:"trace",value:function(e){console.log(e)}},{key:"listAdd",value:function(e,t){return e.concat(t)}},{key:"anyMul",value:function(e,t){if("string"===typeof e){for(var n="",r=0;r<t;r+=1)n+=e;return n}if(Array.isArray(e)){for(var i=[],a=0;a<t;a+=1)i=i.concat(e);return i}return e*t}},{key:"anyIn",value:function(e,t){return t.indexOf(e)>=0}},{key:"int",value:function(e){return"number"===typeof e?0|e:"string"===typeof e?Number.parseInt(e):"boolean"===typeof e?e?1:0:0|e}},{key:"float",value:function(e){return"number"===typeof e?e:"string"===typeof e?Number.parseFloat(e):"boolean"===typeof e?e?1:0:e}},{key:"str",value:function(e){var t=this;return"boolean"===typeof e?e?"True":"False":Array.isArray(e)?"["+e.map(function(e){return t.str(e)}).join(", ")+"]":"".concat(e)}},{key:"range",value:function(e,t,n){var r=0,i=0,a=1;void 0===t?i=e:void 0!==n?(r=e,i=t,a=0===n?1:n):(r=e,i=t);var o=[];if(r<=i){a<0&&(a=-a);for(var s=r;s<i&&(o.push(s),!(o.length>1e5));s+=a);}else{a>0&&(a=-a);for(var c=r;c>i&&(o.push(c),!(o.length>1e5));c+=a);}return o}},{key:"getindex",value:function(e,t){return"string"===typeof e?e.charAt((t+e.length)%e.length):Array.isArray(e)?e[(t+e.length)%e.length]:void 0}},{key:"slice",value:function(e,t,n){return"string"===typeof e?(void 0==n&&(n=e.length),e.substr(t,n-t)):Array.isArray(e)?(void 0==n&&(n=e.length),e.slice(t,n)):void 0}},{key:"find",value:function(e,t){return e.indexOf(t)}},{key:"join",value:function(e,t){return t.join(e)}},{key:"append",value:function(e,t){e.push(t)}},{key:"len",value:function(e){return e.length}},{key:"map",value:function(e,t){return Array.from(t,e)}},{key:"setPosition",value:function(e,t,n){Q.Body.setPosition(e,{x:t,y:n})}},{key:"applyForce",value:function(e,t,n,r,i){Q.Body.applyForce(e,{x:t,y:n},{x:r,y:i})}},{key:"rotate",value:function(e,t,n,r){Q.Body.rotate(e,t)}},{key:"scale",value:function(e,t,n,r,i){Q.Body.scale(e,t,n)}},{key:"setAngle",value:function(e,t){Q.Body.setAngle(e,t)}},{key:"setVelocity",value:function(e,t,n){Q.Body.setVelocity(e,{x:t,y:n})}},{key:"setAngularVelocity",value:function(e,t){Q.Body.setAngularVelocity(e,t)}},{key:"setDensity",value:function(e,t){Q.Body.setDensity(e,t)}},{key:"setMass",value:function(e,t){Q.Body.setMass(e,t)}},{key:"setStatic",value:function(e,t){Q.Body.setStatic(e,t)}}]),e}(),je={canvas:"puppy-screen",ftrace:function(e){}},Ne=n(209);function Ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}!function(e){e.SET_VERSION_SHOW="SET_VERSION_SHOW"}(G||(G={}));var Ce=function(e){return{type:G.SET_VERSION_SHOW,payload:{show:e}}},Pe={show:!1},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G.SET_VERSION_SHOW:return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ie(n,!0).forEach(function(t){Object(g.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{show:t.payload.show});default:return e}},Me=Object(Ne.b)({editor:j,course:D,puppy:H,input:X,version:Le}),Fe=Object(Ne.c)(Me),De=Fe,Re=n(204),Be=function(){function e(t,n,r,i){Object(Y.a)(this,e),this.tag=void 0,this.urn=void 0,this.inputs=void 0,this.spos=void 0,this.epos=void 0,this.nodes=void 0,this.tag=t,this.urn=i,this.inputs="",this.spos=n,this.epos=r,this.nodes=e.empties}return Object(Z.a)(e,[{key:"setup",value:function(e,t){if(null!==this.urn){for(var n=[],r=this.urn;null!==r;)n.push([r.edge,r.child.setup(e,t)]),r=r.prev;this.nodes=n.reverse()}this.urn=e,this.inputs=t;for(var i=0;i<this.nodes.length;i+=1)this[i]=this.nodes[i][1],""!==this.nodes[i][0]&&(this[this.nodes[i][0]]=this.nodes[i][1]);return this}},{key:"is",value:function(e){return this.tag===e}},{key:"isError",value:function(){return"err"===this.tag}},{key:"subs",value:function(){for(var e=[],t=0;t<this.nodes.length;t+=1)e.push(this.nodes[t][1]);return e}},{key:"size",value:function(){return this.nodes.length}},{key:"contains",value:function(e){for(var t=0;t<this.nodes.length;t+=1)if(this.nodes[t][0]===e)return!0;return!1}},{key:"get",value:function(e){return this[e]}},{key:"tokenize",value:function(e,t){if(void 0===e)return this.inputs.substring(this.spos,this.epos);var n=this[e];return void 0===n?t||"":n.tokenize()}},{key:"pos",value:function(e){var t=this.inputs;e=Math.min(e,t.length);for(var n=0,r=0,i=0;i<=e;i+=1)10==t.charCodeAt(i)?(n+=1,r=0):r+=1;return[e,n,r]}},{key:"begin",value:function(){return this.pos(this.spos)}},{key:"end",value:function(){return this.pos(this.spos)}},{key:"length",value:function(){return this.epos-this.spos}},{key:"toString",value:function(){var e=[];return this.strOut(e),e.join("")}},{key:"strOut",value:function(e){e.push("[#"),e.push(this.tag);var t=!0,n=!1,r=void 0;try{for(var i,a=this.nodes[Symbol.iterator]();!(t=(i=a.next()).done);t=!0){var o=i.value;e.push(""===o[0]?" ":" ".concat(o[0],"=")),o[1].strOut(e)}}catch(c){n=!0,r=c}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}if(0==this.nodes.length){var s=this.inputs.substring(this.spos,this.epos);e.push(" '"),e.push(s),e.push("'")}e.push("]")}}]),e}();Be.empties=[];var ze=function e(t,n,r){Object(Y.a)(this,e),this.prev=void 0,this.edge=void 0,this.child=void 0,this.prev=t,this.edge=n,this.child=r},Ve=function e(t,n,r,i){Object(Y.a)(this,e),this.urn=void 0,this.inputs=void 0,this.pos=void 0,this.epos=void 0,this.head_pos=void 0,this.ast=void 0,this.state=void 0,this.memos=void 0,this.urn=t,this.inputs=n,this.pos=r,this.epos=i,this.head_pos=r,this.ast=null,this.state=null,this.memos=[];for(var a=0;a<1789;a++)this.memos.push(new it)},He=function(e){return e.pos<e.epos&&(e.pos+=1,!0)},We=function(){return He},Ue=function(e){var t=e.length;return function(n){return!!n.inputs.startsWith(e,n.pos)&&(n.pos+=t,!0)}},Ge=function(e,t){var n=1<<(t%8|0);e[t/8|0]|=n},Ke=function(e,t){var n=function(e,t){for(var n=0,r=0;r<e.length;r+=1)n=Math.max(e.charCodeAt(r),n);var i=!0,a=!1,o=void 0;try{for(var s,c=t[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;n=Math.max(u.charCodeAt(0),n),n=Math.max(u.charCodeAt(1),n)}}catch(l){a=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n}(e,t)+1,r=new Uint8Array(1+(n/8|0));r[0]=2;for(var i=0;i<e.length;i+=1)Ge(r,e.charCodeAt(i));var a=!0,o=!1,s=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done);a=!0)for(var l=c.value,h=l.charCodeAt(0);h<=l.charCodeAt(1);h+=1)Ge(r,h)}catch(p){o=!0,s=p}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return function(e){if(e.pos<e.epos){var t=e.inputs.charCodeAt(e.pos),n=t/8|0,i=1<<(t%8|0);if(n<r.length&&(r[n]&i)===i)return e.pos+=1,!0}return!1}},qe=function(e){return function(t){for(var n=t.pos,r=t.ast;e(t)&&t.pos>n;)n=t.pos,r=t.ast;return t.head_pos=Math.max(t.pos,t.head_pos),t.pos=n,t.ast=r,!0}},Xe=function(e){return function(t){if(e(t)){for(var n=t.pos,r=t.ast;e(t)&&t.pos>n;)n=t.pos,r=t.ast;return t.head_pos=Math.max(t.pos,t.head_pos),t.pos=n,t.ast=r,!0}return!1}},Ye=function(e){return function(t){var n=t.pos;return!!e(t)&&(t.head_pos=Math.max(t.pos,t.head_pos),t.pos=n,!0)}},Ze=function(e){return function(t){var n=t.pos,r=t.ast;return!e(t)||(t.head_pos=Math.max(t.pos,t.head_pos),t.pos=n,t.ast=r,!1)}},Je=function(e){return function(t){var n=t.pos,r=t.ast;return e(t)||(t.head_pos=Math.max(t.pos,t.head_pos),t.pos=n,t.ast=r),!0}},Qe=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=0,r=t;n<r.length;n++){if(!(0,r[n])(e))return!1}return!0}},$e=function(e,t){return function(n){return e(n)&&t(n)}},et=function(e,t,n){return function(r){return e(r)&&t(r)&&n(r)}},tt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){for(var n=e.pos,r=e.ast,i=0,a=t;i<a.length;i++){if((0,a[i])(e))return!0;e.head_pos=Math.max(e.pos,e.head_pos),e.pos=n,e.ast=r}return!1}},nt=function(e,t){return function(n){var r=n.pos,i=n.ast;return!!e(n)||(n.head_pos=Math.max(n.pos,n.head_pos),n.pos=r,n.ast=i,t(n))}},rt=function(e,t){return e[t]?e[t]:function(n){return e[t](n)}},it=function e(){Object(Y.a)(this,e),this.key=void 0,this.key=-1},at=function(e,t,n){return function(r){var i=r.pos;return r.ast=null,!!e(r)&&(r.ast=new Be(t,i+n,r.pos,r.ast),!0)}},ot=function(e,t){return function(n){var r=n.ast;return!!t(n)&&(n.ast=new ze(r,e,n.ast),!0)}},st=function(e,t,n,r){return function(i){var a=i.pos;return i.ast=new ze(null,e,i.ast),!!t(i)&&(i.ast=new Be(n,a+r,i.pos,i.ast),!0)}},ct=function e(t,n,r){Object(Y.a)(this,e),this.sid=void 0,this.value=void 0,this.prev=void 0,this.sid=t,this.value=n,this.prev=r},ut=function(e,t){for(;null!==e;){if(e.sid===t)return e;e=e.prev}return null},lt=function(e){return function(t){var n=ut(t.state,e);return!(null===n||!t.inputs.startsWith(n.value,t.pos))&&(t.pos+=n.value.length,!0)}},ht=function(e){var t=ft(e);return void 0===t&&(console.log("undefined ".concat(e)),console.log(pt)),function(e,n){var r=new Ve((void 0===n?{}:n).urn||"(unknown source)",e,0,e.length);return t(r)?null===r.ast&&(r.ast=new Be("",0,r.pos,null)):r.ast=new Be("err",r.head_pos,r.head_pos+1,null),r.ast.setup(r.urn,e)}},pt=null,ft=function(e){var t,n;return null===pt&&((pt={}).Source=et(Je(rt(pt,"EOL")),at(qe($e(ot("",rt(pt,"Statement")),rt(pt,"EOL"))),"Source",0),rt(pt,"EOF")),pt.Block=at(function(e){return function(t){var n=t.state,r=e(t);return t.state=n,r}}(et((t=0,n=rt(pt,"INDENT"),function(e){var r=e.pos;return!!n(e)&&(e.state=new ct(t,e.inputs.substring(r,e.pos),e.state),!0)}),nt(et(ot("",rt(pt,"Statement")),qe($e(rt(pt,'";"'),ot("",rt(pt,"Statement")))),Je(rt(pt,'";"'))),$e(rt(pt,"_"),Ye(rt(pt,"EOL")))),qe($e(lt(0),nt(et(ot("",rt(pt,"Statement")),qe($e(rt(pt,'";"'),ot("",rt(pt,"Statement")))),Je(rt(pt,'";"'))),$e(rt(pt,"_"),Ye(rt(pt,"EOL")))))))),"Block",0),pt.Statement=tt(rt(pt,"ClassDecl"),rt(pt,"ImportDecl"),rt(pt,"FuncDecl"),rt(pt,"IfStmt"),rt(pt,"ForStmt"),rt(pt,"WhileStmt"),rt(pt,"Return"),rt(pt,"Yield"),rt(pt,"Break"),rt(pt,"Continue"),rt(pt,"VarDecl"),rt(pt,"Expression")),pt.ImportDecl=nt(at(et($e(Ue("import"),rt(pt,"S")),ot("name",rt(pt,"Name")),Je($e($e(Ue("as"),rt(pt,"S")),ot("alias",rt(pt,"Name"))))),"ImportDecl",0),at(Qe($e(Ue("from"),rt(pt,"S")),ot("name",rt(pt,"Name")),$e(Ue("import"),rt(pt,"S")),ot("names",nt(at($e(ot("",rt(pt,"Name")),qe(et(Ue(","),rt(pt,"_"),ot("",rt(pt,"Name"))))),"",0),at($e(Ue("*"),rt(pt,"_")),"",0)))),"FromDecl",0)),pt.ClassDecl=at(Qe(Ue("class"),rt(pt,"S"),rt(pt,"_"),ot("name",rt(pt,"Name")),Je(Qe(Ue("("),rt(pt,"_"),ot("extends",rt(pt,"Name")),Ue(")"),rt(pt,"_"))),Ue(":"),rt(pt,"_"),nt(ot("",rt(pt,"Block")),ot("",rt(pt,"Statement")))),"ClassDecl",0),pt.FuncDecl=at(Qe(Ue("def"),rt(pt,"S"),rt(pt,"_"),ot("name",rt(pt,"Name")),ot("params",rt(pt,"FuncParams")),Ue(":"),rt(pt,"_"),ot("body",nt(rt(pt,"Block"),rt(pt,"Statement")))),"FuncDecl",0),pt.FuncParams=at(Qe(rt(pt,'"("'),Je(ot("",rt(pt,"FuncParam"))),qe($e(rt(pt,'","'),ot("",rt(pt,"FuncParam")))),rt(pt,'")"')),"FuncParam",0),pt.FuncParam=at($e(ot("name",rt(pt,"Name")),Je(et(Ue(":"),rt(pt,"_"),ot("type",rt(pt,"Name"))))),"Param",0),pt.Lambda=at(Qe(Ue("lambda"),Je(et(rt(pt,"S"),rt(pt,"_"),ot("params",rt(pt,"LambdaParams")))),Ue(":"),rt(pt,"_"),ot("body",nt(rt(pt,"Block"),rt(pt,"Statement")))),"FuncExpr",0),pt.LambdaParams=at($e(Je(ot("",rt(pt,"Name"))),qe($e(rt(pt,'","'),ot("",rt(pt,"Name"))))),"Param",0),pt.Return=at($e(Ue("return"),Je(et(rt(pt,"S"),rt(pt,"_"),ot("expr",rt(pt,"Expression"))))),"Return",0),pt.Yield=at($e(Ue("yield"),rt(pt,"_")),"Yield",0),pt.Pass=at($e(Ue("pass"),rt(pt,"_")),"Pass",0),pt.Break=at($e(Ue("break"),rt(pt,"_")),"Break",0),pt.Continue=at($e(Ue("continue"),rt(pt,"_")),"Continue",0),pt.IfStmt=at(Qe($e(Ue("if"),rt(pt,"S")),rt(pt,"_"),ot("cond",rt(pt,"Expression")),Ue(":"),rt(pt,"_"),ot("then",nt(rt(pt,"Block"),rt(pt,"Statement"))),Je(ot("elif",rt(pt,"ElifBlock"))),Je(Qe(nt(lt(0),rt(pt,"NL")),Ue("else"),rt(pt,"_"),Ue(":"),rt(pt,"_"),ot("else",nt(rt(pt,"Block"),rt(pt,"Statement")))))),"IfStmt",0),pt.ElifBlock=at(Xe(ot("",rt(pt,"ElifStmt"))),"",0),pt.ElifStmt=at(Qe(nt(lt(0),rt(pt,"NL")),$e(Ue("elif"),rt(pt,"S")),rt(pt,"_"),ot("cond",rt(pt,"Expression")),Ue(":"),rt(pt,"_"),ot("then",nt(rt(pt,"Block"),rt(pt,"Statement")))),"ElifStmt",0),pt.ForStmt=at(Qe($e(Ue("for"),rt(pt,"S")),rt(pt,"_"),ot("each",rt(pt,"Name")),$e(Ue("in"),rt(pt,"S")),rt(pt,"_"),ot("list",rt(pt,"Expression")),Ue(":"),rt(pt,"_"),ot("body",nt(rt(pt,"Block"),rt(pt,"Statement")))),"ForStmt",0),pt.WhileStmt=at(Qe($e(Ue("while"),rt(pt,"S")),rt(pt,"_"),ot("cond",rt(pt,"Expression")),Ue(":"),rt(pt,"_"),ot("body",nt(rt(pt,"Block"),rt(pt,"Statement")))),"WhileStmt",0),pt.VarDecl=nt(at(Qe(ot("left",rt(pt,"LeftHand")),Ue("="),rt(pt,"_"),ot("right",rt(pt,"Expression"))),"VarDecl",0),rt(pt,"SelfAssign")),pt.LeftHand=$e(rt(pt,"Name"),qe(nt(st("recv",et(Ke(".",[]),rt(pt,"_"),ot("name",rt(pt,"Name"))),"GetExpr",0),st("recv",et(rt(pt,'"["'),ot("index",rt(pt,"Expression")),rt(pt,'"]"')),"IndexExpr",0)))),pt.SelfAssign=at(et(ot("left",rt(pt,"LeftHand")),ot("name",rt(pt,"SelfAssignOp")),ot("right",rt(pt,"Expression"))),"SelfAssign",0),pt.SelfAssignOp=$e(at($e(tt(Ue("<<"),Ue(">>"),Ue("**"),Ue("//"),Ke("+=*@/%&|^",[])),Ue("=")),"",0),rt(pt,"_")),pt.Expression=$e(rt(pt,"Operator"),Je(st("then",Qe(Ue("if"),rt(pt,"_"),ot("cond",rt(pt,"Expression")),Ue("else"),rt(pt,"_"),ot("else",rt(pt,"Expression"))),"IfExpr",0))),pt.Operator=$e(rt(pt,"AndExpr"),qe(st("left",et(rt(pt,"OR"),rt(pt,"_"),ot("right",rt(pt,"AndExpr"))),"Or",0))),pt.OR=nt(Ue("or"),Ue("||")),pt.AndExpr=$e(rt(pt,"NotExpr"),qe(st("left",et(rt(pt,"AND"),rt(pt,"_"),ot("right",rt(pt,"NotExpr"))),"And",0))),pt.AND=nt(Ue("and"),Ue("&&")),pt.NotExpr=nt(at(et(rt(pt,"NOT"),rt(pt,"_"),ot("",rt(pt,"NotExpr"))),"Not",0),rt(pt,"EqExpr")),pt.NOT=nt($e(Ue("not"),rt(pt,"S")),Ue("!")),pt.EqExpr=$e(rt(pt,"SumExpr"),qe(st("left",et(ot("name",at(rt(pt,"EQ"),"Name",0)),rt(pt,"_"),ot("right",rt(pt,"SumExpr"))),"Infix",0))),pt.EQ=tt($e(Ue("=="),Ze(Ue("="))),$e(Ue("!="),Ze(Ue("="))),$e(Ue("<="),Ze(Ue("="))),$e(Ue(">="),Ze(Ue("="))),$e(Ue("<"),Ze(Ue("<"))),$e(Ue(">"),Ze(Ue(">"))),$e(Ue("in"),rt(pt,"S")),$e(Ue("is"),rt(pt,"S")),$e(Ue("is not"),rt(pt,"S"))),pt.SumExpr=$e(rt(pt,"ProdExpr"),qe(st("left",et(ot("name",at(rt(pt,"SUM"),"Name",0)),rt(pt,"_"),ot("right",rt(pt,"ProdExpr"))),"Infix",0))),pt.SUM=Ke("+-|\uff0b\u30fc",[]),pt.ProdExpr=$e(rt(pt,"PowExpr"),qe(st("left",et(ot("name",at(rt(pt,"PROD"),"Name",0)),rt(pt,"_"),ot("right",rt(pt,"PowExpr"))),"Infix",0))),pt.PROD=tt(Ue("//"),Ue("<<"),Ue(">>"),Ke("*/%^&\xd7\xf7",[])),pt.PowExpr=$e(rt(pt,"UnaryExpr"),qe(st("left",et(ot("name",at(Ue("**"),"Name",0)),rt(pt,"_"),ot("right",rt(pt,"UnaryExpr"))),"Infix",0))),pt.UnaryExpr=nt(at(et(ot("name",at(rt(pt,"PRE"),"Name",0)),rt(pt,"_"),ot("expr",rt(pt,"UnaryExpr"))),"Unary",0),rt(pt,"SuffixExpr")),pt.PRE=Ke("+-~",[]),pt.SuffixExpr=$e(rt(pt,"Primary"),qe(tt(st("recv",Qe(Ue("."),rt(pt,"_"),ot("name",rt(pt,"Name")),rt(pt,'"("'),ot("params",rt(pt,"Arguments")),rt(pt,"__"),rt(pt,'")"')),"MethodExpr",0),st("recv",et(Ke(".",[]),rt(pt,"_"),ot("name",rt(pt,"Name"))),"GetExpr",0),st("name",Qe(rt(pt,'"("'),ot("params",rt(pt,"Arguments")),rt(pt,"__"),rt(pt,'")"')),"ApplyExpr",0),st("recv",Qe(rt(pt,'"["'),Je(ot("left",rt(pt,"Expression"))),Ue(":"),rt(pt,"_"),Je(ot("right",rt(pt,"Expression"))),rt(pt,'"]"')),"Slice",0),st("recv",et(rt(pt,'"["'),ot("index",rt(pt,"Expression")),rt(pt,'"]"')),"IndexExpr",0)))),pt.Arguments=at(et(Je($e(ot("",rt(pt,"Expression")),Ze(Ue("=")))),qe(Qe(Ue(","),rt(pt,"__"),ot("",rt(pt,"Expression")),Ze(Ue("=")))),Je(ot("",rt(pt,"KeywordArgument")))),"Arguments",0),pt.KeywordArgument=at(et(Je($e(Ue(","),rt(pt,"__"))),ot("",rt(pt,"Argument")),qe(et(Ue(","),rt(pt,"__"),ot("",rt(pt,"Argument"))))),"Data",0),pt.Argument=at(Qe(ot("name",rt(pt,"Name")),Ue("="),rt(pt,"_"),ot("value",rt(pt,"Expression"))),"KeyValue",0),pt.Primary=tt(rt(pt,"GroupExpr"),rt(pt,"ListExpr"),rt(pt,"DataExpr"),rt(pt,"Lambda"),rt(pt,"Constant"),rt(pt,"Name")),pt.GroupExpr=at(Qe(rt(pt,'"("'),ot("",rt(pt,"Expression")),qe($e(rt(pt,'","'),ot("",rt(pt,"Expression")))),rt(pt,"__"),rt(pt,'")"')),"Tuple",0),pt.ListExpr=at(Qe(rt(pt,'"["'),Je($e(ot("",rt(pt,"Expression")),qe($e(rt(pt,'","'),ot("",rt(pt,"Expression")))))),qe(rt(pt,'","')),rt(pt,"__"),rt(pt,'"]"')),"List",0),pt.DataExpr=at(Qe(rt(pt,'"{"'),ot("",rt(pt,"KeyValue")),qe($e(qe(rt(pt,'","')),ot("",rt(pt,"KeyValue")))),qe(rt(pt,'","')),rt(pt,"__"),rt(pt,'"}"')),"Data",0),pt.KeyValue=at(et(ot("name",tt(rt(pt,"Name"),rt(pt,"StringExpr"),rt(pt,"CharExpr"))),rt(pt,'":"'),ot("value",rt(pt,"Expression"))),"KeyValue",0),pt.Name=nt(rt(pt,"Identifier"),rt(pt,"NLPSymbol")),pt.Identifier=$e(at($e(Ke("",["AZ","az"]),qe(Ke("_",["AZ","az","09"]))),"Name",0),rt(pt,"_")),pt.NLPSymbol=$e(at(Xe(tt(rt(pt,"HIRA"),rt(pt,"KATA"),rt(pt,"KANJI"))),"NLPSymbol",0),rt(pt,"_")),pt.Constant=tt(rt(pt,"FormatString"),rt(pt,"LongString"),rt(pt,"StringExpr"),rt(pt,"CharExpr"),rt(pt,"Number"),rt(pt,"TrueExpr"),rt(pt,"FalseExpr"),rt(pt,"NullExpr")),pt.FormatString=et(Ke("Ff",[]),tt(et(Ue("'''"),at(qe(ot("",rt(pt,"FormatContent3"))),"Format",0),Ue("'''")),et(Ue("'"),at(qe(ot("",rt(pt,"FormatContent1"))),"Format",0),Ue("'")),et(Ue('"""'),at(qe(ot("",rt(pt,"FormatContent3D"))),"Format",0),Ue('"""')),et(Ue('"'),at(qe(ot("",rt(pt,"FormatContent1D"))),"Format",0),Ue('"'))),rt(pt,"_")),pt.FormatContent3=nt(et(Ue("{"),rt(pt,"Expression"),Ue("}")),at(qe(et(Ze(Ue("'''")),Ze(Ue("{")),We())),"StringPart",0)),pt.FormatContent1=nt(et(Ue("{"),rt(pt,"Expression"),Ue("}")),at(qe(et(Ze(Ue("'")),Ze(Ue("{")),We())),"StringPart",0)),pt.FormatContent3D=nt(et(Ue("{"),rt(pt,"Expression"),Ue("}")),at(qe(et(Ze(Ue('"""')),Ze(Ue("{")),We())),"StringPart",0)),pt.FormatContent1D=nt(et(Ue("{"),rt(pt,"Expression"),Ue("}")),at(qe(et(Ze(Ue('"')),Ze(Ue("{")),We())),"StringPart",0)),pt.LongString=nt(Qe(Ue("''"),at(et(Ue("'"),qe(tt(rt(pt,"ESCAPE"),$e(Ze(Ke("\\'",[])),We()),$e(Ze(Ue("'''")),Ue("'")))),Ue("'")),"MultiString",0),Ue("''"),rt(pt,"_")),Qe(Ue('""'),at(et(Ue('"'),qe(tt(rt(pt,"ESCAPE"),$e(Ze(Ke('\\"',[])),We()),$e(Ze(Ue('"""')),Ue('"')))),Ue('"')),"MultiString",0),Ue('""'),rt(pt,"_"))),pt.StringExpr=$e(at(et(Ue('"'),qe(rt(pt,"STRING_CONTENT")),Ue('"')),"String",0),rt(pt,"_")),pt.CharExpr=$e(at(et(Ue("'"),qe(rt(pt,"CHAR_CONTENT")),Ue("'")),"Char",0),rt(pt,"_")),pt.STRING_CONTENT=nt(rt(pt,"ESCAPE"),$e(Ze(Ke('"\n\\',[])),We())),pt.CHAR_CONTENT=nt(rt(pt,"ESCAPE"),$e(Ze(Ke("'\n\\",[])),We())),pt.ESCAPE=tt($e(Ue("\\"),Ke("'\"\\bfnrt",[])),Qe(Ue("\\"),Ke("",["03"]),Ke("",["07"]),Ke("",["07"])),et(Ue("\\"),Ke("",["07"]),Ke("",["07"])),$e(Ue("\\"),Ke("",["07"])),Qe(Ue("\\"),Ke("uU",[]),rt(pt,"HEX"),rt(pt,"HEX"),rt(pt,"HEX"),rt(pt,"HEX"))),pt.IntExpr=$e(at(tt(rt(pt,"DECIMAL"),rt(pt,"HEXADECIMAL"),rt(pt,"BINARY"),rt(pt,"OCTAL")),"Int",0),rt(pt,"_")),pt.DECIMAL=nt($e(Ue("0"),Ze(Ke("bBxX_",["09"]))),$e(Ke("",["19"]),qe($e(qe(Ue("_")),rt(pt,"DIGIT"))))),pt.HEXADECIMAL=Qe(Ue("0"),Ke("xX",[]),rt(pt,"HEX"),qe($e(qe(Ue("_")),rt(pt,"HEX")))),pt.BINARY=Qe(Ue("0"),Ke("bB",[]),Ke("01",[]),qe($e(qe(Ue("_")),Ke("01",[])))),pt.OCTAL=$e(Ue("0"),qe($e(qe(Ue("_")),Ke("",["07"])))),pt.DIGIT=Ke("",["09"]),pt.HEX=Ke("",["af","AF","09"]),pt.LONG_SUFFIX=Ke("lL",[]),pt.FloatExpr=$e(at(rt(pt,"FLOAT"),"Double",0),rt(pt,"_")),pt.FLOAT=nt($e(rt(pt,"FRACTION"),Je(rt(pt,"EXPONENT"))),$e(Xe(rt(pt,"DIGIT")),rt(pt,"EXPONENT"))),pt.FRACTION=nt(Qe(Ze(Ue("_")),qe($e(qe(Ue("_")),rt(pt,"DIGIT"))),Ue("."),rt(pt,"DIGIT"),qe($e(qe(Ue("_")),rt(pt,"DIGIT")))),Qe(rt(pt,"DIGIT"),qe($e(qe(Ue("_")),rt(pt,"DIGIT"))),Ue("."),Ze(Ue(".")))),pt.EXPONENT=Qe(Ke("eE",[]),Je(Ke("+-",[])),rt(pt,"DIGIT"),qe($e(qe(Ue("_")),rt(pt,"DIGIT")))),pt.Number=nt(rt(pt,"FloatExpr"),rt(pt,"IntExpr")),pt.TrueExpr=$e(at($e(Ke("Tt",[]),Ue("rue")),"TrueExpr",0),rt(pt,"_")),pt.FalseExpr=$e(at($e(Ke("Ff",[]),Ue("alse")),"FalseExpr",0),rt(pt,"_")),pt.NullExpr=$e(at(nt(Ue("None"),Ue("null")),"Null",0),rt(pt,"_")),pt.EOF=Ze(We()),pt.NL=nt(Ue("\n"),rt(pt,"EOF")),pt.S=Ke(" \t\r\u3000\u3001\uff0c",[]),pt._=qe(tt(rt(pt,"S"),rt(pt,"BLOCKCOMMENT"),rt(pt,"LINECOMMENT"))),pt.__=qe(tt(rt(pt,"S"),Ue("\n"),rt(pt,"BLOCKCOMMENT"),rt(pt,"LINECOMMENT"))),pt.SPC=Xe(tt(rt(pt,"S"),rt(pt,"BLOCKCOMMENT"),rt(pt,"LINECOMMENT"))),pt.BLOCKCOMMENT=nt(et(Ue("/*"),qe($e(Ze(Ue("*/")),We())),Ue("*/")),et(Ue("(*"),qe($e(Ze(Ue("*)")),We())),Ue("*)"))),pt.LINECOMMENT=$e(Ue("#"),qe($e(Ze(rt(pt,"NL")),We()))),pt.EOL=et(rt(pt,"_"),rt(pt,"NL"),qe($e(rt(pt,"_"),rt(pt,"NL")))),pt.INDENT=$e(Ue("\n"),Xe(Ke(" \t",[]))),pt.C=tt(rt(pt,"HIRA"),rt(pt,"KATA"),rt(pt,"KANJI"),rt(pt,"MARK"),Ke("",["\uff41\uff5a","\uff21\uff3a","\uff10\uff19"])),pt.HIRA=Ke("",["\u3041\u3093"]),pt.KATA=Ke("",["\u30a1\u30f6"]),pt.KANJI=Ke("\u3005\u3007\u303b\u30fc",["\u3400\u4db5","\u4e00\u9fa0"]),pt.MARK=Ke("\u30fc",[]),pt.W=Ke("\u3005\u3007\u303b\u30fc",["\u30a1\u30f6","\u3400\u4db5","\u4e00\u9fa0","\uff21\uff3a"]),pt['"{"']=$e(Ke("{\uff5b",[]),rt(pt,"__")),pt['"}"']=$e(Ke("}\uff5d",[]),rt(pt,"_")),pt['"["']=$e(Ke("[\uff3b\u3010",[]),rt(pt,"__")),pt['"]"']=$e(Ke("]\uff3d\u3011",[]),rt(pt,"_")),pt['"("']=$e(Ke("(\uff08",[]),rt(pt,"__")),pt['")"']=$e(Ke(")\uff09",[]),rt(pt,"_")),pt['"="']=et(Ke("=\uff1d",[]),Ze(Ke("=\uff1d",[])),rt(pt,"_")),pt['"."']=$e(Ke(".\uff0e\u3002",[]),rt(pt,"_")),pt['","']=$e(Ke(",\u3001",[]),rt(pt,"_")),pt['";"']=Xe($e(Ke(";\uff1b",[]),rt(pt,"_"))),pt['":"']=$e(Ke(":\uff1a",[]),rt(pt,"_"))),pt[e]},dt="\t",vt=function(){function e(t){Object(Y.a)(this,e),this.isOptional=void 0,this.isOptional=t}return Object(Z.a)(e,[{key:"toString",value:function(){return"?"}},{key:"rtype",value:function(){return this}},{key:"psize",value:function(){return 0}},{key:"ptype",value:function(e){return this}},{key:"accept",value:function(e,t){return!1}},{key:"realType",value:function(){return this}},{key:"isPattern",value:function(){return!1}},{key:"hasAlpha",value:function(){return!1}},{key:"toVarType",value:function(e){return this}}]),e}(),yt=function(e){function t(e,n){var r;return Object(Y.a)(this,t),(r=Object($.a)(this,Object(ee.a)(t).call(this,void 0!==n))).name=void 0,r.name=e,r}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"toString",value:function(){return this.name}},{key:"accept",value:function(e,n){var r=e.realType();return r instanceof t?this.name===r.name:r instanceof Rt&&r.must(this,n)}},{key:"isPattern",value:function(){return"a"===this.name||"b"===this.name}},{key:"hasAlpha",value:function(){return"a"===this.name||"b"===this.name}},{key:"toVarType",value:function(e){return this.hasAlpha()?(void 0===e[this.name]&&(e[this.name]=new Rt(e.env,e.t)),e[this.name]):this}}]),t}(vt),bt=function(e){function t(){return Object(Y.a)(this,t),Object($.a)(this,Object(ee.a)(t).call(this,"void",!1))}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"accept",value:function(e,t){var n=e.realType();return n instanceof Rt&&n.must(this,t),!0}}]),t}(yt),mt=function(e){function t(e){return Object(Y.a)(this,t),Object($.a)(this,Object(ee.a)(t).call(this,"any",e))}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"accept",value:function(e,t){return!(e.realType()instanceof bt)}},{key:"isPattern",value:function(){return!0}},{key:"hasAlpha",value:function(){return!0}},{key:"toVarType",value:function(e){return new Rt(e.env,e.t)}}]),t}(yt),gt=function(e){function t(){var e;Object(Y.a)(this,t),(e=Object($.a)(this,Object(ee.a)(t).call(this,!1))).types=void 0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.types=r,e}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"toString",value:function(){for(var e=["("],t=1;t<this.types.length;t+=1)t>1&&e.push(","),e.push(this.types[t].toString());return e.push(")->"),e.push(this.types[0].toString()),e.join("")}},{key:"rtype",value:function(){return this.types[0]}},{key:"psize",value:function(){return this.types.length-1}},{key:"ptype",value:function(e){return this.types[e+1]}},{key:"accept",value:function(e,n){var r=e.realType();if(r instanceof t&&this.psize()==r.psize())for(var i=0;i<this.types.length;i+=1)return!!this.types[i].accept(r.types[i],n);return r instanceof Rt&&r.must(this,n)}},{key:"isPattern",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.types[zt.iterator]();!(e=(r=i.next()).done);e=!0){if(r.value.isPattern())return!0}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1}},{key:"hasAlpha",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.types[zt.iterator]();!(e=(r=i.next()).done);e=!0){if(r.value.hasAlpha())return!0}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1}},{key:"toVarType",value:function(e){if(this.hasAlpha()){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=this.types[zt.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;n.push(c.toVarType(e))}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return Object(Re.a)(t,n)}return this}}]),t}(vt),Et=function(e){function t(e,n){var r;return Object(Y.a)(this,t),(r=Object($.a)(this,Object(ee.a)(t).call(this,void 0!==n))).param=void 0,r.param=e,r}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"toString",value:function(){return"List[".concat(this.param.toString(),"]")}},{key:"psize",value:function(){return 1}},{key:"ptype",value:function(e){return this.param}},{key:"realType",value:function(){var e=this.param.realType();return e!==this.param?new t(e):this}},{key:"accept",value:function(e,n){var r=e.realType();return r instanceof t?this.param==St||this.param.accept(r.param,n):r instanceof Rt&&r.must(this,n)}},{key:"isPattern",value:function(){return this.param.isPattern()}},{key:"hasAlpha",value:function(){return this.param.hasAlpha()}},{key:"toVarType",value:function(e){return this.hasAlpha()?new t(this.param.toVarType(e)):this}}]),t}(vt),wt=function(e){function t(){var e;Object(Y.a)(this,t),(e=Object($.a)(this,Object(ee.a)(t).call(this,!1))).types=void 0;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return e.types=r,e}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"toString",value:function(){for(var e=[],t=0;t<this.types.length;t+=1)t>0&&e.push("|"),e.push(this.types[t].toString());return e.join("")}},{key:"psize",value:function(){return this.types.length}},{key:"ptype",value:function(e){return this.types[e]}},{key:"accept",value:function(e,t){var n=!0,r=!1,i=void 0;try{for(var a,o=this.types[zt.iterator]();!(n=(a=o.next()).done);n=!0){if(a.value.accept(e,!1))return!0}}catch(s){r=!0,i=s}finally{try{n||null==o.return||o.return()}finally{if(r)throw i}}return console.log("FAIL ".concat(e," ").concat(this.toString())),!1}},{key:"isPattern",value:function(){return!0}},{key:"hasAlpha",value:function(){var e=!0,t=!1,n=void 0;try{for(var r,i=this.types[zt.iterator]();!(e=(r=i.next()).done);e=!0){if(r.value.hasAlpha())return!0}}catch(a){t=!0,n=a}finally{try{e||null==i.return||i.return()}finally{if(t)throw n}}return!1}},{key:"toVarType",value:function(e){if(this.hasAlpha()){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=this.types[zt.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;n.push(c.toVarType(e))}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return Object(Re.a)(t,n)}return this}}]),t}(vt),kt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 1===t.length?t[0]:Object(Re.a)(wt,t)},St=new mt,Ot=new bt,xt=new yt("Bool"),_t=new yt("Number"),Tt=new yt("Number",!0),At=_t,jt=new yt("String"),Nt=new yt("String",!0),It=new yt("a"),Ct=new Et(It),Pt=new Et(_t),Lt=new Et(St),Mt=new yt("Object"),Ft=new yt("Vec"),Dt=[],Rt=function(e){function t(e,n){var r;return Object(Y.a)(this,t),(r=Object($.a)(this,Object(ee.a)(t).call(this,!1))).varMap=void 0,r.varid=void 0,r.ref=void 0,r.varMap=e.getroot("@varmap"),r.varid=r.varMap.length,r.varMap.push(Dt),r.ref=n,r}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"toString",value:function(){var e=this.varMap[this.varid];return e instanceof vt?e.toString():"any"}},{key:"realType",value:function(){var e=this.varMap[this.varid];return e instanceof vt?e:this}},{key:"accept",value:function(e,t){var n=this.varMap[this.varid];return n instanceof vt&&n!==this?n.accept(e,t):this.must(e.realType(),t)}},{key:"must",value:function(e,n){var r=e.realType();if(n){if(r instanceof t){if(r.varid===this.varid)return!0;var i=function(e,t,n){var r=[],i=!0,a=!1,o=void 0;try{for(var s,c=e[zt.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;-1===r.indexOf(u)&&r.push(u)}}catch(k){a=!0,o=k}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}var l=!0,h=!1,p=void 0;try{for(var f,d=t[zt.iterator]();!(l=(f=d.next()).done);l=!0){var v=f.value;-1===r.indexOf(v)&&r.push(v)}}catch(k){h=!0,p=k}finally{try{l||null==d.return||d.return()}finally{if(h)throw p}}if(void 0!==n){var y=!0,b=!1,m=void 0;try{for(var g,E=t[zt.iterator]();!(y=(g=E.next()).done);y=!0){var w=g.value;-1===r.indexOf(w)&&r.push(w)}}catch(k){b=!0,m=k}finally{try{y||null==E.return||E.return()}finally{if(b)throw m}}}return r}(this.varMap[this.varid],this.varMap[r.varid],[r.varid,this.varid]),a=!0,o=!1,s=void 0;try{for(var c,u=i[zt.iterator]();!(a=(c=u.next()).done);a=!0){var l=c.value;this.varMap[l]=i}}catch(m){o=!0,s=m}finally{try{a||null==u.return||u.return()}finally{if(o)throw s}}return!0}if(!r.isPattern()){var h=this.varMap[this.varid],p=!0,f=!1,d=void 0;try{for(var v,y=h[zt.iterator]();!(p=(v=y.next()).done);p=!0){var b=v.value;this.varMap[b]=r}}catch(m){f=!0,d=m}finally{try{p||null==y.return||y.return()}finally{if(f)throw d}}this.varMap[this.varid]=r}}return!0}},{key:"hasAlpha",value:function(){return!1}}]),t}(vt),Bt=function(e){function t(e){var n;return Object(Y.a)(this,t),(n=Object($.a)(this,Object(ee.a)(t).call(this,!1))).options=void 0,n.options=e,n}return Object(te.a)(t,e),Object(Z.a)(t,[{key:"toString",value:function(){return JSON.stringify(this.options)}},{key:"accept",value:function(e){return e.realType()instanceof t}},{key:"equals",value:function(e,t){return this.accept(e)}},{key:"isPattern",value:function(){return!1}},{key:"hasAlpha",value:function(){return!1}},{key:"toVarType",value:function(e){return this}}]),t}(vt),zt=function(){function e(t,n,r){Object(Y.a)(this,e),this.code=void 0,this.ty=void 0,this.isMatter=!1,this.isMutable=!1,this.code=t,this.ty=n.realType(),void 0!==r&&(this.isMatter=void 0!==r.isMatter&&r.isMatter,this.isMutable=void 0!=r.isMutable&&r.isMutable)}return Object(Z.a)(e,[{key:"isGlobal",value:function(){return 0==this.code.indexOf("vars[")}}]),e}(),Vt=new wt(jt,_t),Ht=new Bt({}),Wt=new gt(At,At),Ut=new gt(At,At,At),Gt=new gt(Mt,_t,_t,Ht),Kt={pi:new zt("3.14159",At),sin:new zt("Math.sin",Wt),cos:new zt("Math.cos",Wt),tan:new zt("Math.tan",Wt),sqrt:new zt("Math.sqrt",Wt),log:new zt("Math.log",Wt),log10:new zt("Math.log10",Wt),pow:new zt("Math.pow",Ut),hypot:new zt("Math.hypot",Ut),gcd:new zt("puppy.gcd",Ut)},qt={input:new zt("await puppy.input",new gt(jt,Nt)),print:new zt("puppy.print",new gt(Ot,St,Ht),{isMatter:!0}),len:new zt("lib.len",new gt(_t,kt(jt,Ct))),range:new zt("lib.range",new gt(Pt,_t,Tt,Tt)),".append":new zt("lib.append",new gt(Ot,Ct,It)),int:new zt("lib.int",new gt(_t,kt(xt,jt,_t))),float:new zt("lib.float",new gt(At,kt(xt,jt,_t))),str:new zt("lib.str",new gt(jt,St))},Xt={math:Kt,random:{random:new zt("Math.random",new gt(_t))},matterjs:{World:new zt("puppy.World",Gt,{isMatter:!0}),Circle:new zt("puppy.Circle",Gt,{isMatter:!0}),Rectangle:new zt("puppy.Rectangle",Gt,{isMatter:!0}),Polygon:new zt("puppy.Polygon",Gt,{isMatter:!0}),Label:new zt("puppy.Label",Gt,{isMatter:!0}),".setPosition":new zt("lib.setPosition",new gt(Ot,Mt,_t,_t)),".applyForce":new zt("lib.applyForce",new gt(Ot,Mt,_t,_t,_t,_t)),".rotate":new zt("lib.rotate",new gt(Ot,Mt,_t,Tt,Tt)),".scale":new zt("lib.scale",new gt(Ot,Mt,_t,_t,Tt,Tt)),".setAngle":new zt("lib.setAngle",new gt(Ot,Mt,_t)),".setAngularVelocity":new zt("lib.setAngularVelocity",new gt(Ot,Mt,_t)),".setDensity":new zt("lib.setDensity",new gt(Ot,Mt,_t)),".setMass":new zt("lib.setMass",new gt(Ot,Mt,_t)),".setStatic":new zt("lib.setStatic",new gt(Ot,Mt,xt)),".setVelocity":new zt("lib.setVelocity",new gt(Ot,Mt,_t))}},Yt={};!function(){for(var e=0,t=Object.keys(Xt);e<t.length;e++)for(var n=t[e],r=0,i=Object.keys(Xt[n]);r<i.length;r++){var a=i[r];Yt[a]=n}}();var Zt={width:_t,height:_t,x:_t,y:_t,image:jt,strokeStyle:Vt,lineWidth:_t,fillStyle:Vt,restitution:At,angle:At,position:Ft,mass:_t,density:_t,area:_t,friction:At,frictionStatic:At,airFriction:At,torque:At,stiffness:At,isSensor:xt,isStatic:xt,damping:At,in:new gt(Ot,Mt,Mt),out:new gt(Ot,Mt,Mt),over:new gt(Ot,Mt,Mt),clicked:new gt(Ot,Mt),font:jt,fontColor:Vt,textAlign:jt,value:_t,message:jt},Jt=kt(_t,jt),Qt={and:"&&",or:"||",not:"!","+=":"+","-=":"-","*=":"*","//=":"//","/=":"/","<<=":"<<",">>=":">>","|=":"|","&=":"&","^=":"^"},$t={"+":kt(_t,jt,Lt),"-":_t,"**":_t,"*":kt(_t,jt,Lt),"/":_t,"//":_t,"%":_t,"==":St,"!=":St,in:St,"<":Jt,"<=":Jt,">":Jt,">=":Jt,"^":_t,"|":_t,"&":_t,"<<":_t,">>":_t},en=function(e,t,n){for(var r=Math.min(t+1,e.length),i=1,a=0,o=0;o<r;o+=1)10==e.charCodeAt(o)&&(i+=1,a=0),a+=1;return n.pos=t,n.row=i,n.col=a,n},tn=function(){function e(t){Object(Y.a)(this,e),this.root=void 0,this.parent=void 0,this.vars=void 0,this.vars={},void 0===t?(this.root=this,this.parent=null,this.vars["@varmap"]=[],this.vars["@logs"]=[],this.vars["@trace"]=[],this.vars["@indent"]=dt):(this.root=t.root,this.parent=t)}return Object(Z.a)(e,[{key:"get",value:function(e,t){for(var n=this;null!==n;){var r=n.vars[e];if(void 0!==r)return r;n=n.parent}return t}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){return this.vars[e]=t,t}},{key:"getroot",value:function(e,t){return this.root.vars[e]||t}},{key:"setroot",value:function(e,t){return this.root.vars[e]=t,t}},{key:"from_import",value:function(e,t){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];void 0!==t&&-1===t.indexOf(i)||(this.vars[i]=e[i])}}},{key:"setModule",value:function(e,t){this.set(e,new zt("undefined",new Bt(t)))}},{key:"isModule",value:function(e){var t=this.get(e);return void 0!==t&&"undefined"===t.code&&t.ty instanceof Bt}},{key:"getModule",value:function(e,t){var n=this.get(e);if(void 0!==n&&"undefined"===n.code&&n.ty instanceof Bt)return n.ty.options[t]}},{key:"perror",value:function(e,t){var n=this.root.vars["@logs"];if(void 0===t.type&&(t.type="error"),void 0===t.pos){var r=e.begin();t.pos=r[0],t.row=r[1],t.col=r[2]}void 0===t.len&&(t.len=e.epos-e.spos),n.push(t)}},{key:"trace",value:function(e){var t=this.getroot("@trace"),n=t.length,r=e.begin();return t.push([r[0],r[1],r[2],e.epos-e.spos]),",puppy,".concat(n)}},{key:"setInLoop",value:function(){return this.set("@inloop",!0),!0}},{key:"inLoop",value:function(){return!0===this.get("@inloop")}},{key:"setFunc",value:function(e){return this.set("@func",e),e}},{key:"inFunc",value:function(){return void 0!==this.get("@func")}},{key:"foundFunc",value:function(e,t){if(t.isMatter){var n=this.get("@func");if(void 0!==n)n.isMatter=!0;else{var r=en(e.inputs,e.spos,{type:"",key:""});this.setroot("@yeild",r.row)}}}},{key:"isUtf8Name",value:function(e){for(var t=0;t<e.length;t+=1)if(e.charCodeAt(t)>128)return!0;return!1}},{key:"local",value:function(e){if(this.isUtf8Name(e)){var t=this.getroot("@utf8map");if(void 0===t)return this.setroot("@utf8map",{}),this.local(e);var n=t[name];if(void 0===n){var r=Object.keys(t).length;n="_v".concat(r),t[name]=n}return n}return e}},{key:"declVar",value:function(e,t){var n=this.inFunc()||this.inLoop()?this.local(e):"vars['".concat(e,"']"),r=new zt(n,t);return r.isMutable=!0,this.set(e,r)}},{key:"emitAutoYield",value:function(e){var t=this.getroot("@yeild");void 0===t||this.inFunc()?e.push("\n"):(e.push("; yield ".concat(t,";\n")),this.setroot("@yeild",void 0))}}]),e}(),nn=function e(){Object(Y.a)(this,e)},rn=function(e){return e instanceof Be?e.subs():[]},an=function(){function e(){Object(Y.a)(this,e)}return Object(Z.a)(e,[{key:"conv",value:function(e,t,n){console.log(t.toString()),console.log(this[t.tag]);try{return this[t.tag](e,t,n)}catch(r){if(r instanceof nn)throw r;if(void 0===this[t.tag])return e.perror(t,{type:"error",key:"UndefinedParseTree",subject:t.toString()}),this.skip(e,t,n);throw r}}},{key:"skip",value:function(e,t,n){throw new nn}},{key:"check",value:function(e,t,n,r,i){var a=this.conv(t,n,r);return e.accept(a,!0)?a:(void 0===i&&(i={type:"error",key:"TypeError"}),i.request=e,i.given=a,t.perror(n,i),this.skip(t,n,r))}},{key:"checkBinary",value:function(e,t,n,r,i,a,o,s){return"=="===n||"!="===n?(s.push("".concat(i," ").concat(n,"= ").concat(o)),xt):(r=r.realType(),a=a.realType(),"+"===n?r===_t&&a===_t?(s.push("(".concat(i," + ").concat(o,")")),_t):r.accept(a,!0)?(s.push("lib.anyAdd(".concat(i,",").concat(o,")")),r):(e.perror(t,{key:"BinaryTypeError",subject:n,request:r,given:a}),this.skip(e,t,s)):"*"===n?r===_t&&a===_t?(s.push("(".concat(i," * ").concat(o,")")),_t):(s.push("lib.anyMul(".concat(i,",").concat(o,")")),r===_t||Lt.accept(a,!1)?a:(a===_t||Lt.accept(r,!1),r)):"//"===n?(s.push("((".concat(i,"/").concat(o,")|0)")),_t):"**"===n?(s.push("Math.pow(".concat(i,",").concat(o,")")),_t):r.accept(a,!0)?(s.push("(".concat(i," ").concat(n," ").concat(o,")")),$t[n]===Jt?xt:r):(e.perror(t,{key:"BinaryTypeError",subject:n,request:r,given:a}),this.skip(e,t,s)))}},{key:"err",value:function(e,t,n){return e.perror(t,{type:"error",key:"SyntaxError"}),Ot}},{key:"FromDecl",value:function(e,t,n){var r=t.tokenize("name"),i=Xt[r];return void 0===i?(e.perror(t.get("name"),{type:"error",key:"UnknownPackageName"}),this.skip(e,t,n)):(e.from_import(i),Ot)}},{key:"ImportDecl",value:function(e,t,n){var r=t.tokenize("name"),i=t.tokenize("alias",r),a=Xt[r];return void 0===a?(e.perror(t.get("name"),{type:"error",key:"UnknownPackageName"}),this.skip(e,t,n)):(e.setModule(i,a),Ot)}},{key:"Source",value:function(e,t,n){var r=!0,i=!1,a=void 0;try{for(var o,s=rn(t)[zt.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;try{var u=[];u.push(e.get("@indent")),this.conv(e,c,u),e.emitAutoYield(u),n.push(u.join(""))}catch(l){if(!(l instanceof nn))throw l}}}catch(h){i=!0,a=h}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return Ot}},{key:"Block",value:function(e,t,n){var r=e.get("@indent"),i=dt+r,a=new tn(e);a.set("@indent",i),n.push("{\n");var o=!0,s=!1,c=void 0;try{for(var u,l=rn(t)[zt.iterator]();!(o=(u=l.next()).done);o=!0){var h=u.value;n.push(a.get("@indent")),this.conv(a,h,n),a.emitAutoYield(n)}}catch(p){s=!0,c=p}finally{try{o||null==l.return||l.return()}finally{if(s)throw c}}return n.push(r+"}"),Ot}},{key:"IfExpr",value:function(e,t,n){n.push("(("),this.check(xt,e,t.cond,n),n.push(") ? (");var r=this.conv(e,t.then,n);return n.push(") : ("),this.check(r,e,t.else,n),n.push("))"),r}},{key:"IfStmt",value:function(e,t,n){if(n.push("if ("),this.check(xt,e,t.cond,n),n.push(") "),this.conv(e,t.then,n),void 0!==t.elif){var r=!0,i=!1,a=void 0;try{for(var o,s=t.elif.subs()[zt.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;this.conv(e,c,n)}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}}return void 0!==t.else&&(n.push("else "),this.conv(e,t.else,n)),Ot}},{key:"ElifStmt",value:function(e,t,n){return n.push("else if ("),this.check(xt,e,t.cond,n),n.push(") "),this.conv(e,t.then,n),Ot}},{key:"ForStmt",value:function(e,t,n){var r=t.each.tokenize(),i=new Rt(e,t.each);n.push("for (let ".concat(r," of ")),this.check(new Et(i),e,t.list,n),n.push(")");var a=new tn(e);return a.setInLoop(),a.declVar(r,i),this.conv(a,t.body,n),Ot}},{key:"FuncDecl",value:function(e,t,n){var r=t.tokenize("name"),i=[new Rt(e,t.name)],a=[],o=new tn(e),s=o.setFunc({name:r,return:i[0],hasReturn:!1,isMatter:!1}),c=!0,u=!1,l=void 0;try{for(var h,p=t.params.subs()[zt.iterator]();!(c=(h=p.next()).done);c=!0){var f=h.value,d=f.tokenize("name"),v=new Rt(e,f.name),y=o.declVar(d,v);a.push(y.code),i.push(v)}}catch(E){u=!0,l=E}finally{try{c||null==p.return||p.return()}finally{if(u)throw l}}var b=Object(Re.a)(gt,i),m=e.declVar(r,b),g=m.isGlobal()?"":"var ";return n.push("".concat(g).concat(m.code," = (").concat(a.join(", "),") => ")),this.conv(o,t.body,n),m.isMatter=s.isMatter,s.hasReturn||i[0].accept(Ot,!0),console.log("DEFINED ".concat(r," :: ").concat(b)),Ot}},{key:"FuncExpr",value:function(e,t,n){var r=[new Rt(e,t)],i=[],a=new tn(e),o=a.setFunc({return:r[0],hasReturn:!1}),s=!0,c=!1,u=void 0;try{for(var l,h=t.params.subs()[zt.iterator]();!(s=(l=h.next()).done);s=!0){var p=l.value,f=p.tokenize("name"),d=new Rt(e,p.name),v=a.declVar(f,d);i.push(v.code),r.push(d)}}catch(b){c=!0,u=b}finally{try{s||null==h.return||h.return()}finally{if(c)throw u}}var y=Object(Re.a)(gt,r);return n.push("(".concat(i.join(", "),") => ")),this.conv(a,t.body,n),o.hasReturn||r[0].accept(Ot,!0),y}},{key:"Return",value:function(e,t,n){if(!e.inFunc())return e.perror(t,{type:"warning",key:"OnlyInFunction",subject:"return"}),Ot;var r=e.get("@func");return r.hasReturn=!0,void 0!==t.expr?(n.push("return "),this.check(r.return,e,t.expr,n)):n.push("return"),Ot}},{key:"Continue",value:function(e,t,n){return e.inLoop()?(n.push("continue"),Ot):(e.perror(t,{type:"warning",key:"OnlyInLoop",subject:"continue"}),Ot)}},{key:"Break",value:function(e,t,n){return e.inLoop()?(n.push("break"),Ot):(e.perror(t,{type:"warning",key:"OnlyInLoop",subject:"break"}),Ot)}},{key:"Pass",value:function(e,t,n){return Ot}},{key:"VarDecl",value:function(e,t,n){var r=t.left;if("Name"===r.tag){var i=r.tokenize(),a=e.get(i);if(void 0===a||e.inFunc()&&a.isGlobal()){var o=new Rt(e,r),s=[];this.check(o,e,t.right,s);var c=(a=e.declVar(i,o)).isGlobal()?"":"var ";return n.push("".concat(c).concat(a.code," = ").concat(s.join(""))),Ot}}t.left.tag="Set".concat(t.left.tag);var u=this.conv(e,t.left,n);return n.push(" = "),this.check(u,e,t.right,n),Ot}},{key:"Name",value:function(e,t,n){var r=t.tokenize(),i=e.get(r);return void 0===i?(e.perror(t,{type:"error",key:"UndefinedName",subject:r}),this.skip(e,t,n)):(n.push(i.code),i.ty)}},{key:"SetName",value:function(e,t,n){var r=t.tokenize(),i=e.get(r);return void 0===i?(e.perror(t,{type:"error",key:"UndefinedName",subject:r}),this.skip(e,t,n)):i.isMutable?(n.push(i.code),i.ty):(e.perror(t,{type:"error",key:"Immutable",subject:r}),this.skip(e,t,n))}},{key:"And",value:function(e,t,n){return this.check(xt,e,t.left,n),n.push(" && "),this.check(xt,e,t.right,n),xt}},{key:"Or",value:function(e,t,n){return this.check(xt,e,t.left,n),n.push(" || "),this.check(xt,e,t.right,n),xt}},{key:"Not",value:function(e,t,n){return n.push("!("),this.check(xt,e,t[0],n),n.push(")"),xt}},{key:"Infix",value:function(e,t,n){var r=function(e){var t=Qt[e];return void 0!==t?t:e}(t.tokenize("name")),i=[],a=[],o=this.check(function(e){var t=$t[e];return void 0===t?(console.log("FIXME undefined '".concat(e,"'")),St):t}(r),e,t.left,i),s=this.check(function(e,t){if("in"==e)return kt(new Et(t),jt);var n=$t[e];return n===St||n===_t||"*"===e?n:t}(r,o),e,t.right,a);return this.checkBinary(e,t,r,o,i.join(""),s,a.join(""),n)}},{key:"Unary",value:function(e,t,n){var r=t.tokenize("name");return"!"===r||"not"===r?(n.push("".concat(r,"(")),this.check(xt,e,t.expr,n),n.push(")"),xt):(n.push("".concat(r,"(")),this.check(_t,e,t.expr,n),n.push(")"),_t)}},{key:"ApplyExpr",value:function(e,t,n){var r=t.tokenize("name"),i=e.get(r);if(void 0===i){var a=Yt[r];if(void 0!==a)return console.log("importing ".concat(a," ...")),e.from_import(Xt[a]),e.perror(t.name,{type:"info",key:"InferredPackage",subject:a,code:"from ".concat(a," import *")}),this.ApplySymbolExpr(e,t,e.get(r),void 0,n)}return this.ApplySymbolExpr(e,t,i,void 0,n)}},{key:"ApplySymbolExpr",value:function(e,t,n,r,i){if(void 0===n)return e.perror(t.name,{type:"error",key:"UnknownName",subject:t.name.tokenize()}),this.skip(e,t,i);i.push(n.code),i.push("(");var a=t.params.subs();void 0!==r&&a.unshift(r);var o=n.ty;if(!(o instanceof gt))return e.perror(t.name,{type:"error",key:"NotFunction",subject:t.name.tokenize()}),this.skip(e,t,i);o.hasAlpha()&&(o=o.toVarType({env:e,ref:t}));for(var s=0;s<a.length;s+=1){if(!(s<o.psize())){e.perror(a[s],{type:"warning",key:"TooManyArguments",subject:a[s]});break}s>0&&i.push(",");var c=o.ptype(s);this.check(c,e,a[s],i)}return a.length<o.psize()&&(o.ptype(a.length)||e.perror(t.name,en(t.inputs,t.params.epos,{type:"error",key:"RequiredArguments"}))),i.push(")"),e.foundFunc(t,n),o.rtype()}},{key:"MethodExpr",value:function(e,t,n){var r=t.tokenize("recv");if(e.isModule(r)){var i=e.getModule(r,t.tokenize("name"));return this.ApplySymbolExpr(e,t,i,void 0,n)}var a=".".concat(t.tokenize("name")),o=e.get(a);return this.ApplySymbolExpr(e,t,o,t.recv,n)}},{key:"SelfAssign",value:function(e,t,n){var r=t.left.tag;return t.left.tag="Set".concat(r),this.conv(e,t.left,n),n.push(" = "),t.left.tag=r,this.Infix(e,t,n),Ot}},{key:"GetExpr",value:function(e,t,n){var r=t.tokenize("recv");if(e.isModule(r)){var i=e.getModule(r,t.tokenize("name"));return n.push(i.code),i.ty}n.push("lib.get("),this.check(Mt,e,t.recv,n);var a=t.tokenize("name"),o=Zt[a]||new Rt(e,t.name);return n.push(",'".concat(a,"'").concat(e.trace(t.name),")")),o}},{key:"SetGetExpr",value:function(e,t,n){var r=t.tokenize("recv");if(e.isModule(r))return e.perror(t,{type:"error",key:"Immutable",subject:t.tokenize()}),this.skip(e,t,n);var i=t.tokenize("name");this.check(Mt,e,t.recv,n),n.push(".".concat(i));var a=Zt[i]||new Rt(e,t.name);return a instanceof wt?a.ptype(0):a}},{key:"IndexExpr",value:function(e,t,n){n.push("lib.index(");var r=this.check(kt(new Et(new Rt(e,t)),jt),e,t.recv,n);return n.push(","),this.check(_t,e,t.index,n),n.push("".concat(e.trace(t.index),")")),r instanceof Et?r.ptype(0):r}},{key:"SetIndexExpr",value:function(e,t,n){var r=this.check(Lt,e,t.recv,n);return n.push("["),this.check(_t,e,t.index,n),n.push("]"),r instanceof Et?r.ptype(0):r}},{key:"Data",value:function(e,t,n){n.push("{");var r=!0,i=!1,a=void 0;try{for(var o,s=rn(t)[zt.iterator]();!(r=(o=s.next()).done);r=!0){var c=o.value;this.conv(e,c,n),n.push(",")}}catch(u){i=!0,a=u}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n.push("}"),Ht}},{key:"KeyValue",value:function(e,t,n){var r=t.tokenize("name");n.push("'".concat(r,"': "));var i=Zt[r];return void 0===i?(e.perror(t.name,{type:"warning",key:"UnknownName",subject:r}),this.conv(e,t.value,n)):this.check(i,e,t.value,n),Ot}},{key:"Tuple",value:function(e,t,n){var r=rn(t);if(r.length>2)return e.perror(t,{type:"warning",key:"ListSyntaxError"}),this.List(e,t,n);if(1==r.length){n.push("(");var i=this.conv(e,r[0],n);return n.push(")"),i}return n.push("{ x: "),this.check(_t,e,r[0],n),n.push(", y: "),this.check(_t,e,r[1],n),n.push("}"),Ft}},{key:"List",value:function(e,t,n){var r=new Rt(e,t);n.push("[");var i=!0,a=!1,o=void 0;try{for(var s,c=rn(t)[zt.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;r=this.check(r,e,u,n,{type:"error",key:"AllTypeAsSame"}),n.push(",")}}catch(l){a=!0,o=l}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n.push("]"),new Et(r)}},{key:"Format",value:function(e,t,n){var r=0;n.push("(");var i=!0,a=!1,o=void 0;try{for(var s,c=rn(t)[zt.iterator]();!(i=(s=c.next()).done);i=!0){var u=s.value;if(r>0&&n.push("+"),"StringPart"===u.tag)n.push("'".concat(u.tokenize(),"'"));else{var l=[];this.conv(e,u,l)===jt?n.push(l.join("")):n.push("lib.str(".concat(l.join(""),")"))}r++}}catch(h){a=!0,o=h}finally{try{i||null==c.return||c.return()}finally{if(a)throw o}}return n.push(")"),jt}},{key:"TrueExpr",value:function(e,t,n){return n.push("true"),xt}},{key:"FalseExpr",value:function(e,t,n){return n.push("false"),xt}},{key:"Int",value:function(e,t,n){return n.push(t.tokenize()),_t}},{key:"Float",value:function(e,t,n){return n.push(t.tokenize()),At}},{key:"Double",value:function(e,t,n){return n.push(t.tokenize()),At}},{key:"String",value:function(e,t,n){return n.push(t.tokenize()),jt}},{key:"Char",value:function(e,t,n){return n.push(t.tokenize()),jt}},{key:"MultiString",value:function(e,t,n){return n.push(JSON.stringify(JSON.parse(t.tokenize()))),jt}}]),e}(),on=ht("Source"),sn=function(e){var t=on(e),n=new tn;n.from_import(qt);var r=[];return(new an).conv(n,t,r),console.log(n.get("@logs")),r.join("")},cn=function(e){var t=on(e.source),n=new tn;n.from_import(qt);var r=[];(new an).conv(n,t,r);var i=r.join(""),a="\nreturn {\n  main: async function*(puppy) {\n\tconst lib = puppy.lib;\n\tconst vars = puppy.vars;\n".concat(i,"\n  },\n}"),o={};try{o=new Function(a)()}catch(s){n.perror(t,{type:"error",key:"CompileError",subject:s.toString()})}return o.world={},o.tree=t,o.code=i,o.errors=n.get("@logs"),o};console.log(sn("\nif True :\n  1\nelif True :\n  2\nelif True :\n  3\nelse :\n  4\n")),console.log(sn("\nfor x in range(1,2):\n  for y in range(x,2):\n    x+y\n"));var un=function(e,t){var n,i=0,a=[],o=!0,s=!1,c=void 0;try{for(var u,l=t.errors[Symbol.iterator]();!(o=(u=l.next()).done);o=!0){var h=u.value;"error"===h.type&&(i+=1),a.push(h)}}catch(p){s=!0,c=p}finally{try{o||null==l.return||l.return()}finally{if(s)throw c}}return e((n=a,{type:r.SET_MARKER,payload:{markers:n.map(function(e){return{severity:_(e.type),startLineNumber:e.row+1,startColumn:e.col,endLineNumber:e.row+1,endColumn:e.col+e.len,message:e.key}})}})),0===i?(e(T("vs")),!1):(e(T("error")),!0)},ln=null,hn=function(e){return function(t,n,r){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=(arguments.length>4&&void 0!==arguments[4]&&arguments[4],cn({source:n}));return console.log(a),un(e,a)||(ln&&ln.dispose(),ln=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(null!=e&&!n&&t&&e.isRunning(),t){null!=e&&e.dispose();var i=new Ae(je,t,r);return i.runCode(),i}return null}(t,a,r,i),e(function(e){return{type:C.SET_PUPPY,payload:{puppy:e}}}(ln))),ln}},pn=function(e){return fetch(e,{method:"GET"}).then(function(e){if(e.ok)return e.text();throw new Error(e.statusText)}).then(function(e){return e})},fn=function(e){return function(t){return pn("/LIVE2019/course/".concat(t,"/setting.json")).then(function(e){return JSON.parse(e)}).then(function(t){e(L(t))}).catch(function(e){console.log("ERR ".concat(e))})}},dn=function(e){return function(t,n){return pn("/LIVE2019/course/".concat(t,"/").concat(n,"/index.md")).then(function(t){return e(P(t))})}},vn=function(e){return function(t,n,r,i){var a=window.sessionStorage.getItem("/LIVE2019/course/".concat(n,"/").concat(i,"/sample.py"));a?(e(O(a)),hn(e)(t,a,!1)):pn("/LIVE2019/course/".concat(n,"/").concat(i,"/sample.py")).then(function(n){e(O(n)),hn(e)(t,n,!1)})}},yn=function(){var e=Object(m.a)(b.a.mark(function e(t){var n;return b.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(e){return new Promise(function(t){e.addEventListener("submit",t,{once:!0})})},De.dispatch(K(!0)),De.dispatch((r=t,{type:z.SET_PLACEHOLDER,payload:{placeholder:r}})),e.next=5,n(document.getElementById("puppy-input-form"));case 5:return e.abrupt("return",De.getState().input.value);case 6:case"end":return e.stop()}var r},e)}));return function(t){return e.apply(this,arguments)}}(),bn=function(){return De.getState().puppy.isLive},mn=function(){var e=De.getState().editor.diffStartLineNumber;return null===e?0:e},gn=function(e,t){var n=De.getState().editor.codeEditor,r=De.getState().editor.decoration;De.dispatch(x(n.deltaDecorations(r,[{range:new E.Range(e,1,t,1),options:{isWholeLine:!0,className:"code-highlight"}}])))},En=function(){var e=De.getState().editor.codeEditor,t=De.getState().editor.decoration;De.dispatch(x(e.deltaDecorations(t,[])))},wn=function(e){return function(){var t={},n=[];["Puppy","PuppyCourse","LIVE2019"].forEach(function(e){n.push(pn("/LIVE2019/course/".concat(e,"/setting.json")).then(function(e){return JSON.parse(e)}).then(function(n){t[e]=n}))}),Promise.all(n).then(function(){return e(function(e){return{type:S.SET_COURSES,payload:{courses:e}}}(t))})}},kn=Object(c.b)(function(e){return{course:e.course.course,courses:e.course.courses}},function(e){return{fetchCourses:wn(e),setShow:function(t){return e(Ce(t))}}})(v),Sn=n(311),On=n.n(Sn),xn=(n(417),n(309)),_n=n(444),Tn=n(133),An=n(124);E.editor.defineTheme("error",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#ffb7b7"}});var jn,Nn,In,Cn=function(e){return a.a.createElement("div",{id:"editor-footer"},a.a.createElement(xn.a,{onClick:function(){return e.setIsLive(!e.isLive)}},e.isLive?a.a.createElement(_n.a,{animation:"grow",variant:"light",size:"sm"}):a.a.createElement(Tn.a,{icon:An.g})," LIVE"),a.a.createElement(xn.a,{onClick:function(){e.setFontSize(e.fontSize+3)}},a.a.createElement(Tn.a,{icon:An.h})),a.a.createElement(xn.a,{onClick:function(){e.setFontSize(Math.max(12,e.fontSize-3))}},a.a.createElement(Tn.a,{icon:An.f})))},Pn=function(e){var t={selectOnLineNumbers:!0,fontSize:e.fontSize,wordWrap:"on"};addEventListener("resize",function(){clearTimeout(jn),jn=setTimeout(function(){e.setSize(document.getElementById("right-col").clientWidth,document.getElementById("right-col").clientHeight)},300)}),Object(i.useEffect)(function(){e.setSize(document.getElementById("right-col").clientWidth,document.getElementById("right-col").clientHeight)},[]);"piyo".startsWith("hoge");return a.a.createElement("div",{id:"puppy-editor"},a.a.createElement(On.a,{width:e.width,height:e.height,language:"python",theme:e.theme,value:e.code,options:t,onChange:function(t,n){var r=e.diffStartLineNumber;n.changes.map(function(e){r=null===r?e.range.startLineNumber:Math.min(r,e.range.startLineNumber)}),null!==r&&e.setDiffStartLineNumber(r),e.setCode(t),e.codeEditor&&function(t){var n=t.getModel().findMatches("[\uff01\u3000\u201d\uff03\uff04\uff05\uff06\u2019\uff08\uff09\uff0a\uff0b\uff0c\uff0d\uff0e\uff0f\uff1a\uff1b\uff1c\uff1d\uff1e\uff1f\uff20\uff3b\uff3c\uffe5\uff3d\uff3e\uff3f\u2018\uff5b\uff5c\uff5d\uff5e\uffe3\uff21\uff22\uff23\uff24\uff25\uff26\uff27\uff28\uff29\uff2a\uff2b\uff2c\uff2d\uff2e\uff2f\uff30\uff31\uff32\uff33\uff34\uff35\uff36\uff37\uff38\uff39\uff3a\uff41\uff42\uff43\uff44\uff45\uff46\uff47\uff48\uff49\uff4a\uff4b\uff4c\uff4d\uff4e\uff4f\uff50\uff51\uff52\uff53\uff54\uff55\uff56\uff57\uff58\uff59\uff5a\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19\uff10\uff61\uff62\uff63\uff64\uff65\uff66\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff71\uff72\uff73\uff74\uff75\uff76\uff77\uff78\uff79\uff7a\uff7b\uff7c\uff7d\uff7e\uff7f\uff80\uff81\uff82\uff83\uff84\uff85\uff86\uff87\uff88\uff89\uff8a\uff8b\uff8c\uff8d\uff89\uff8f\uff90\uff91\uff92\uff93\uff94\uff95\uff96\uff97\uff98\uff99\uff9a\uff9b\uff9c\uff9d\uff9e\uff9f]",!0,!0,!1,null,!1).map(function(e){return{range:e.range,options:{inlineClassName:"zenkakuClass"}}});e.setDecoration(t.deltaDecorations(e.decoration,n))}(e.codeEditor),e.isLive&&(Nn&&(clearTimeout(Nn),Nn=null),Nn=setTimeout(function(){var n;n=e.trancepile(e.puppy,t,!1,!0,!0),In&&(clearTimeout(In),In=null),In=setTimeout(function(){n&&n.start(),e.setDiffStartLineNumber(null)},1500),window.sessionStorage.setItem("/api/sample/".concat(e.coursePath,"/").concat(e.page),t)},100))},editorDidMount:function(t){e.setCodeEditor(t)}}),a.a.createElement(Cn,{setFontSize:e.setFontSize,fontSize:e.fontSize,setIsLive:e.setIsLive,isLive:e.isLive}))},Ln=Object(c.b)(function(e,t){return{width:e.editor.width,height:e.editor.height,codeEditor:e.editor.codeEditor,decoration:e.editor.decoration,theme:e.editor.theme,fontSize:e.editor.fontSize,code:e.editor.code,diffStartLineNumber:e.editor.diffStartLineNumber,puppy:e.puppy.puppy,isLive:e.puppy.isLive,coursePath:t.coursePath,page:t.page}},function(e){return{setCode:function(t){return e(O(t))},setSize:function(t,n){return e(function(e,t){return{type:r.SET_SIZE,payload:{width:e,height:t}}}(t,n))},setCodeEditor:function(t){return e(function(e){return{type:r.SET_CODEEDITOR,payload:{codeEditor:e}}}(t))},setDecoration:function(t){return e(x(t))},setFontSize:function(t){return e((n=t,{type:r.SET_FONTSIZE,payload:{value:n}}));var n},setDiffStartLineNumber:function(t){return e((n=t,{type:r.SET_DIFFSTARTLINENUMBER,payload:{startLineNumber:n}}));var n},setIsLive:function(t){return e(function(e){return{type:C.SET_ISLIVE,payload:{isLive:e}}}(t))},trancepile:hn(e)}})(Pn),Mn=(n(418),function(e){return a.a.createElement("div",{id:"puppy-footer"},a.a.createElement(xn.a,{onClick:function(){return e.trancepile(e.puppy,e.code,!0)}},a.a.createElement(Tn.a,{icon:An.g})," Play"),a.a.createElement(xn.a,{onClick:function(){if(null!=e.puppy){var t=e.puppy.getCanvas();if(t)if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else{if(!t.requestFullscreen)return;t.requestFullscreen()}}}},a.a.createElement(Tn.a,{icon:An.e})),a.a.createElement(xn.a,{onClick:function(){return e.setIsCourseVisible(!e.isCourseVisible)}},a.a.createElement(Tn.a,{icon:e.isCourseVisible?An.a:An.b})))}),Fn=null,Dn=function(e){return addEventListener("resize",function(){Fn&&(clearTimeout(Fn),Fn=null),Fn=setTimeout(function(){var t=document.getElementById("puppy-screen").clientWidth,n=document.getElementById("puppy-screen").clientHeight;e.setSize(t,n)},300)}),a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{id:"puppy-screen"}),a.a.createElement(Mn,{isCourseVisible:e.isCourseVisible,setIsCourseVisible:e.setIsCourseVisible,code:e.code,puppy:e.puppy,trancepile:e.trancepile}))},Rn=Object(c.b)(function(e){return{isCourseVisible:e.course.visible,code:e.editor.code,puppy:e.puppy.puppy}},function(e){return{setIsCourseVisible:function(t){return e(M(t))},setSize:function(t,n){return e(function(e,t){return{type:C.SET_SIZE,payload:{width:e,height:t}}}(t,n))},trancepile:hn(e)}})(Dn),Bn=n(312),zn=n(453),Vn=(n(419),n(420),function(e){return Object(i.useEffect)(function(){0!==e.course.list.length&&(e.fetchContent(e.coursePath,e.course.list[e.page].path),e.fetchSample(e.puppy,e.coursePath,e.page,e.course.list[e.page].path))},[e.page,e.coursePath,e.course]),Object(i.useEffect)(function(){e.fetchSetting(e.coursePath)},[e.coursePath]),a.a.createElement("div",{id:"puppy-course",style:{visibility:e.visible?"visible":"hidden"}},a.a.createElement(zn.a,{className:"course-all"},a.a.createElement(zn.a.Header,{className:"course-header"},a.a.createElement(l.a,null,a.a.createElement("button",{className:"close-button",onClick:function(){return e.setVisible(!1)}},a.a.createElement(Tn.a,{icon:An.i}))),a.a.createElement(l.a,null,a.a.createElement(h.a,{className:"card-header-left",xs:6},e.course.list&&0!==e.course.list.length&&0!==e.page?a.a.createElement("a",{href:"#".concat(e.page-1)},a.a.createElement(Tn.a,{icon:An.c})," ".concat(e.course.list[e.page-1].title)):null),a.a.createElement(h.a,{className:"card-header-right",xs:6},e.course.list&&0!==e.course.list.length&&e.page!==e.course.list.length-1?a.a.createElement("a",{href:"#".concat(e.page+1)},"".concat(e.course.list[e.page+1].title," "),a.a.createElement(Tn.a,{icon:An.d})):null))),a.a.createElement(zn.a.Body,{className:"course-body"},a.a.createElement("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:Bn(e.content)}}))))}),Hn=Object(c.b)(function(e,t){return{course:e.course.course,puppy:e.puppy.puppy,coursePath:t.coursePath,page:t.page,content:e.course.content,visible:e.course.visible}},function(e){return{setContent:function(t){return e(P(t))},setCourse:function(t){return e(L(t))},setCode:function(t){return e(O(t))},setVisible:function(t){return e(M(t))},fetchContent:dn(e),fetchSample:vn(e),fetchSetting:fn(e)}})(Vn),Wn=n(448),Un=n(449),Gn=n(446),Kn=n(315),qn=function(e){return a.a.createElement(Wn.a,{size:"lg",show:e.show,centered:!0},a.a.createElement(Wn.a.Body,null,a.a.createElement(Un.a,{id:"puppy-input-form",onSubmit:function(){return e.setShow(!1)}},a.a.createElement(Gn.a,{className:"mb-3"},a.a.createElement(Kn.a,{placeholder:e.placeholder,value:e.value,onChange:function(t){return e.setValue(t.target.value)}}),a.a.createElement(Gn.a.Append,null,a.a.createElement(xn.a,{type:"submit"},"\u9001\u4fe1\u3059\u308b"))))))},Xn=Object(c.b)(function(e){return{show:e.input.show,value:e.input.value,placeholder:e.input.placeholder}},function(e){return{setShow:function(t){return e(K(t))},setValue:function(t){return e(function(e){return{type:z.SET_VALUE,payload:{value:e}}}(t))}}})(qn),Yn=function(e){return a.a.createElement(a.a.Fragment,null,a.a.createElement(Wn.a,{show:e.show,onHide:function(){return e.setShow(!1)}},a.a.createElement(Wn.a.Header,{closeButton:!0},a.a.createElement(Wn.a.Title,null,"Modal heading")),a.a.createElement(Wn.a.Body,null,"Woohoo, you're reading this text in a modal!"),a.a.createElement(Wn.a.Footer,null,a.a.createElement(xn.a,{variant:"secondary",onClick:function(){return e.setShow(!1)}},"Close"),a.a.createElement(xn.a,{variant:"primary",onClick:function(){return e.setShow(!1)}},"Save Changes"))))},Zn=Object(c.b)(function(e){return{show:e.version.show}},function(e){return{setShow:function(t){return e(Ce(t))}}})(Yn),Jn=function(e){var t=e.qs.course?e.qs.course:"LIVE2019",n=""!==e.hash?parseInt(e.hash.substr(1)):0;return a.a.createElement("div",{className:"App"},a.a.createElement(u.a,{className:"container"},a.a.createElement(kn,null),a.a.createElement(Xn,null),a.a.createElement(Zn,null),a.a.createElement(l.a,{id:"main-row"},a.a.createElement(h.a,{id:"left-col",xs:6},a.a.createElement(Hn,{coursePath:t,page:n}),a.a.createElement(Rn,null)),a.a.createElement(h.a,{id:"right-col",xs:6},a.a.createElement(Ln,{coursePath:t,page:n})))))},Qn=n(316),$n=n(171);s.a.render(a.a.createElement(c.a,{store:Fe},a.a.createElement(Qn.a,null,a.a.createElement($n.a,{render:function(e){return a.a.createElement(Jn,{qs:(t=e.location.search,t.substr(1).split("&").reduce(function(e,t){var n=t.split("=");return e[n[0]]=n[1],e},{})),hash:e.location.hash});var t}}))),document.getElementById("root"))}},[[317,2,3]]]);
//# sourceMappingURL=main.b7d55d59.chunk.js.map