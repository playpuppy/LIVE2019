(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{309:function(e,t,r){e.exports=r(427)},319:function(e,t,r){},320:function(e,t,r){},321:function(e,t,r){},409:function(e,t,r){},410:function(e,t,r){},411:function(e,t,r){},412:function(e,t,r){},427:function(e,t,r){"use strict";r.r(t);var n=r(2),s=r.n(n),o=r(95),i=r.n(o),a=r(108),c=(r(319),r(320),r(438)),l=r(436),u=r(305),p=r(441),h=r(443),d=r(442),f=(r(321),"/Users/shonanking/lab/project/LIVE2019/src/components/Header/Header.tsx");var m,b=e=>(Object(n.useEffect)(()=>{e.fetchCourses()},[]),s.a.createElement("div",{className:"Header",id:"puppy-header",__source:{fileName:f,lineNumber:18},__self:void 0},s.a.createElement(p.a,{bg:"white",variant:"light",expand:"lg",__source:{fileName:f,lineNumber:19},__self:void 0},s.a.createElement(p.a.Brand,{onClick:()=>e.setShow(!0),__source:{fileName:f,lineNumber:20},__self:void 0},s.a.createElement("img",{src:"./image/logo.png",width:"25",height:"25",className:"d-inline-block align-top",__source:{fileName:f,lineNumber:21},__self:void 0})," Puppy"),s.a.createElement(h.a,{className:"mr-auto",__source:{fileName:f,lineNumber:29},__self:void 0},s.a.createElement(d.a,{title:e.course.title,id:"nav-dropdown-courses",__source:{fileName:f,lineNumber:30},__self:void 0},Object.keys(e.courses).map(t=>{const r=e.courses[t];return s.a.createElement(d.a,{title:r.title,id:"nav-dropdown-pages-".concat(r.title),drop:"right",key:r.title,__source:{fileName:f,lineNumber:34},__self:void 0},r.list.map((e,r)=>s.a.createElement(d.a.Item,{href:"?course=".concat(t,"#").concat(r),key:r,__source:{fileName:f,lineNumber:42},__self:void 0},e.title)))})))))),y=r(140),g=r(143);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}!function(e){e.SET_SIZE="SET_SIZE",e.SET_CODE="SET_CODE",e.SET_CODEEDITOR="SET_CODEEDITOR",e.SET_FONTSIZE="SET_FONTSIZE",e.SET_DECORATION="SET_DECORATION",e.SET_MARKER="SET_MARKER",e.SET_THEME="SETTHEME",e.SET_DIFFSTARTLINENUMBER="SET_DIFFSTARTLINENUMBER"}(m||(m={}));const E=e=>({type:m.SET_CODE,payload:{code:e}}),w=e=>({type:m.SET_DECORATION,payload:{decoration:e}}),S=e=>{switch(e){case"error":return g.MarkerSeverity.Error;case"info":return g.MarkerSeverity.Info;case"warning":return g.MarkerSeverity.Warning;case"hint":return g.MarkerSeverity.Hint}},N=e=>({type:m.SET_THEME,payload:{theme:e}}),x={width:500,height:500,code:"",codeEditor:null,theme:"vs",fontSize:30,decoration:[],markers:[],diffStartLineNumber:null};var O,T=(e=x,t)=>{switch(t.type){case m.SET_SIZE:return _({},e,{width:t.payload.width,height:t.payload.height});case m.SET_CODE:return _({},e,{code:t.payload.code});case m.SET_CODEEDITOR:return _({},e,{codeEditor:t.payload.codeEditor});case m.SET_FONTSIZE:return _({},e,{fontSize:t.payload.value});case m.SET_DECORATION:return _({},e,{decoration:t.payload.decoration});case m.SET_MARKER:return g.editor.setModelMarkers(e.codeEditor.getModel(),"puppy",t.payload.markers),_({},e,{codeEditor:e.codeEditor,markers:t.payload.markers});case m.SET_THEME:return _({},e,{theme:t.payload.theme});case m.SET_DIFFSTARTLINENUMBER:return _({},e,{diffStartLineNumber:t.payload.startLineNumber});default:return e}};function k(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function I(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?k(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):k(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}!function(e){e.SET_CONTENT="SET_CONTENT",e.SET_COURSES="SET_COURCES",e.SET_COURSE="SET_COURSE",e.SET_VISIBLE="SET_VISIBLE"}(O||(O={}));const A=e=>({type:O.SET_CONTENT,payload:{content:e}}),C=e=>({type:O.SET_COURSE,payload:{course:e}}),P=e=>({type:O.SET_VISIBLE,payload:{visible:e}}),L={content:"# Hello World \n\n Rendered by **marked**",courses:{},course:{title:"",list:[]},coursePath:"",page:0,visible:!0};var M,j=(e=L,t)=>{switch(t.type){case O.SET_CONTENT:return I({},e,{content:t.payload.content});case O.SET_COURSES:return I({},e,{courses:t.payload.courses});case O.SET_COURSE:return I({},e,{course:t.payload.course});case O.SET_VISIBLE:return I({},e,{visible:t.payload.visible});default:return e}};function F(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function D(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?F(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):F(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}!function(e){e.SET_SIZE="SET_SIZE",e.SET_PUPPY="SET_PUPPY",e.SET_ISLIVE="SET_ISLIVE"}(M||(M={}));const R={width:500,height:500,puppy:null,isLive:!0};var B,V=(e=R,t)=>{switch(t.type){case M.SET_SIZE:return e.puppy&&e.puppy.resize(t.payload.width,t.payload.height),D({},e,{width:t.payload.width,height:t.payload.height});case M.SET_PUPPY:return D({},e,{puppy:t.payload.puppy});case M.SET_ISLIVE:return D({},e,{isLive:t.payload.isLive});default:return e}};function z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function H(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?z(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):z(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}!function(e){e.SET_VALUE="SET_VALUE",e.SET_SHOW="SET_SHOW",e.SET_PLACEHOLDER="SET_PLACEHOLDER"}(B||(B={}));const U=e=>({type:B.SET_SHOW,payload:{show:e}}),W={value:"",show:!1,placeholder:""};var G=(e=W,t)=>{switch(t.type){case B.SET_VALUE:return H({},e,{value:t.payload.value});case B.SET_SHOW:return t.payload.show?{value:"",show:t.payload.show,placeholder:""}:H({},e,{show:t.payload.show});case B.SET_PLACEHOLDER:return H({},e,{placeholder:t.payload.placeholder});default:return e}},K=r(47);const q=K.Bodies,X=K.Composite,Y=K.Common,Z={radius:(e,t,r)=>{t.radius=r,"circle"===t.base&&(t.width=2*r,t.height=2*r)},width:(e,t,r)=>{t.width=r,"circle"===t.base&&(t.radius=r/2,t.height=r)},height:(e,t,r)=>{t.height=r,"circle"===t.base&&(t.radius=r/2,t.width=r)},fillStyle:(e,t,r)=>{t.fillStyle=((e,t)=>{if(Array.isArray(t)&&(t=Y.choose(t)),"number"===typeof t){const r=e.world.colorScheme;return r[t%r.length]}return t})(e,r)}},J=(e,t,r,n)=>(r in Z?Z[r](e,t,n):t[r]=n,n),Q=(e,t,r,n)=>t[r]?J(e,t,r,t[r]):n?J(e,t,r,n):void 0,$=(e,t)=>(Object.assign(t,{base:"circle",visible:!0}),Q(e,t,"height"),Q(e,t,"width"),Q(e,t,"radius",25),Q(e,t,"fillStyle",Y.choose(e.world.colorScheme)),q.circle(t.position.x,t.position.y,t.radius,t)),ee=(e,t)=>(Object.assign(t,{base:"rectangle",visible:!0}),Q(e,t,"width",100),Q(e,t,"height",100),Q(e,t,"fillStyle",t.isStatic?"black":Y.choose(e.world.colorScheme)),q.rectangle(t.position.x,t.position.y,t.width,t.height,t)),te=(e,t)=>{Object.assign(t,{base:"polygon",visible:!0});const r=Q(e,t,"sides",5);return Q(e,t,"height"),Q(e,t,"width"),Q(e,t,"radius",25),q.polygon(t.position.x,t.position.y,r,t.radius,t)},re=(e,t)=>(Object.assign(t,{base:"rectangle",isSensor:!0,isStatic:!0,visible:!0,collisionFilter:{category:1,mask:0,group:3}}),Q(e,t,"width",10),Q(e,t,"height",10),Q(e,t,"fontColor",Y.choose(e.world.colorScheme)),Q(e,t,"fillStyle","rgba(255, 255, 255, 0)"),q.rectangle(t.position.x,t.position.y,t.width,t.height,t)),ne=(e,t)=>(Object.assign(t,{base:"circle",isSensor:!0,isStatic:!0,visible:!0,collisionFilter:{category:1,mask:0,group:3},created:e.getTimeStamp()}),Q(e,t,"height"),Q(e,t,"width"),Q(e,t,"radius",10),Q(e,t,"fillStyle",0),Q(e,t,"opacity",.8),q.circle(t.position.x,t.position.y,t.radius,t)),se=(e,t)=>{const r=Q(e,t,"column",5),n=Q(e,t,"width",e.world.viewWidth/2),s=Q(e,t,"height",e.world.viewWidth/2),o=n/(2*r),i=t.position.x-n/2,a=t.position.y-s/2,c=K.Composite.create({label:"Newtons Cradle"});for(let l=0;l<r;l+=1){const r={visible:!0,fillStyle:Y.choose(e.world.colorScheme),inertia:t.interia||1/0,restitution:t.restitution||1,friction:t.friction||0,frictionAir:t.frictionAir||1e-4,slop:t.slop||1},n=K.Bodies.circle(i+l*(1.9*o),a+s,o,r),u=K.Constraint.create({pointA:{x:i+l*(1.9*o),y:a},bodyB:n,render:{visible:!0,lineWidth:1|t.lineWidth,strokeStyle:t.strokeStyle||"gray"}});X.addBody(c,n),X.addConstraint(c,u)}return console.log(c),console.log(c.parts),c},oe=e=>(Object.assign(e,{Circle:$,Rectangle:ee,Polygon:te,Label:re,Drop:ne,Pendulum:se}),e);const ie=K.Common,ae={pop:["#de9610","#c93a40","#fff001","#d06d8c","#65ace4","#a0c238","#56a764","#d16b16","#cc528b","#9460a0","#f2cf01","#0074bf"],cute:["#e2b2c0","#fff353","#a5d1f4","#e4ad6d","#d685b0","#dbe159","#7fc2ef","#c4a6ca","#eabf4c","#f9e697","#b3d3ac","#eac7cd"],dynamic:["#b80117","#222584","#00904a","#edc600","#261e1c","#6d1782","#8f253b","#a0c238","#d16b16","#0168b3","#b88b26","#c30068"],gorgeous:["#7d0f80","#b08829","#a03c44","#018a9a","#ab045c","#391d2b","#d5a417","#546474","#0f5ca0","#d0b98d","#d4c91f","#c1541c"],casual:["#7b9ad0","#f8e352","#c8d627","#d5848b","#e5ab47","#e1cea3","#51a1a2","#b1d7e4","#66b7ec","#c08e47","#ae8dbc","#c3cfa9"],psychedelic:["#b7007c","#009b85","#382284","#e2c80f","#009dc6","#c4c829","#95007e","#d685b0","#eee800","#bf5116","#b80e3b","#0178bc"],bright:["#fff001","#cb5393","#a0c238","#d78114","#00a5e7","#cd5638","#0168b3","#d685b0","#00984b","#f2cf01","#6bb6bb","#a563a0"],fairytale:["#cca9ca","#9bcad0","#dd9dbf","#edef9c","#aabade","#f2dae8","#c7ddae","#a199c8","#faede5","#d5a87f","#f7f06e","#95bfe7"],heavy:["#000000","#998c69","#5c002f","#244765","#814523","#5e2a58","#1a653c","#6a6a68","#bf7220","#5f556e","#84762f","#872226"],impact:["#c60019","#fff001","#1d4293","#00984b","#019fe6","#c2007b","#261e1c","#7d0f80","#dc9610","#dbdf19","#d685b0","#a0c238"],street:["#33476a","#211917","#6c7822","#c2007b","#44aeea","#5e3032","#d16b16","#c8d627","#9193a0","#816945","#c50030","#0080c9"],cool:["#b0d7f4","#c0cbe9","#eef0b1","#44aeea","#85beab","#c4a6ca","#f7f06e","#c8d627","#bcccd9","#e4f0fc","#f2dae8","#6490cd"],elegant:["#ae8dbc","#e3b3cd","#d6ddf0","#e5d57d","#82c0cd","#afc7a7","#834e62","#6a9176","#7f7eb8","#a04e90","#dbbc86","#c4c829"],fresh:["#70b062","#c8d85b","#f8e133","#dbdf19","#e3ab30","#dd9dbf","#a979ad","#cd5638","#399548","#6bb6bb","#f7f39c","#9acce3"],warm:["#c59f22","#dd9b9d","#ebcc00","#d6d11d","#8d4f42","#d8836e","#f8e469","#cbb586","#e4aa01","#eac287","#f2d8bf","#a6658d"],soft:["#f8e469","#e7e0aa","#d9de84","#e4bd60","#9ac29f","#e3be87","#edef9c","#dd9b9d","#b2d6d4","#f5dfa6","#ebeddf","#e1d4e6"],man:["#23466e","#4d639f","#dfe0d8","#1d695f","#9aadbe","#844f30","#934e61","#7e9895","#77aad7","#848a96","#a76535","#7e8639"],woman:["#7b0050","#a8006d","#bea620","#a26c54","#949b34","#614983","#cba777","#de9610","#bd8683","#be87a6","#bf5346","#e1d0b4"],boy:["#0168b3","#66b7ec","#afd0ef","#88b83e","#b8b2d6","#6bb6bb","#5e4694","#f2cf01","#c6e2f8","#d5dbcf","#7a8bc3","#e8e6f3"],girl:["#d06da3","#c2d3ed","#be91bc","#c73576","#f8e352","#c8d627","#e3b3cd","#c6e0d5","#e4ab5a","#cb6c58","#845d9e","#82c0cd"],smart:["#4d639f","#356c92","#c9ced1","#dfd4be","#92a1a6","#a67b2d","#bda5bb","#2c4b79","#d6d680","#babea5","#ebc175","#3a614f"],light:["#44aeea","#b4cb32","#b2b6db","#b2d6d4","#ebe9ae","#0080c9","#71b174","#e4c4db","#7da8db","#eac39a","#dbe585","#6db5a9"],stylish:["#58656e","#bac1c7","#487ca3","#dfd4be","#004679","#c0542d","#a44682","#9599b2","#d6d680","#8eb4d9","#6c5776","#499475"],natural:["#ba9648","#87643e","#c2b5d1","#ba7d8c","#b8ac60","#797c85","#f9ebd1","#9cb1c2","#81a47a","#acb130","#8b342a","#acae98"],spring:["#dd9cb4","#eeea55","#ebc061","#b2d6d4","#f2dae8","#c9d744","#b8b2d6","#afd0ef","#d7847e","#f8e352","#b3ce5b","#cbacbe"],summer:["#174e9e","#68b8dd","#d16b16","#88b83e","#f2cf01","#019fe6","#c60019","#019c96","#b0d7f4","#fff001","#0074bf","#c83955"],fall:["#ae3c22","#902342","#c59f22","#7e8639","#eabd00","#a49e2e","#ac5238","#9f832f","#ba7c6f","#875f3b","#bba929","#786b4b"],winter:["#a5aad4","#6591b6","#623d82","#5f897b","#858aa0","#eff3f6","#c2d3dd","#4f616f","#7f7073","#42629f","#674c51","#b38da4"],japan:["#c3003a","#3a546b","#d5a02e","#918d43","#787cac","#604439","#6f2757","#c1541c","#565d63","#afc9ca","#baaa52","#e2b2c0"],euro:["#bf541c","#25a4b7","#e4aa01","#b2bfe1","#ad438e","#1d4293","#b71232","#e8e2be","#b0bf30","#6aa43e","#6276b5","#d7832d"],nordic:["#149bdf","#dbdf19","#c97a2b","#945141","#9abca4","#a5a79a","#e6d9b9","#eabd00","#bf545e","#86b070","#665e51","#b59a4d"],asian:["#946761","#b80040","#4eacb8","#7f1f69","#c8b568","#147472","#1d518b","#b1623b","#95a578","#b9b327","#af508a","#dab100"]},ce=e=>{const t=e in ae?ae[e]:ae[ie.choose(["pop","cute","dynamic","gorgeous","casual","psychedelic","bright","fairytale","heavy","impact","street","cool","elegant","fresh","warm","soft","man","woman","boy","girl","smart","light","stylish","natural","spring","summer","fall","winter","japan","euro","nordic","asian"])],r=document.getElementsByClassName("btn");for(let n=0;n<r.length;n+=1)r[n].style.backgroundColor=t[n%t.length],r[n].style.borderColor=t[n%t.length];return t},le=K.Engine,ue=K.Runner,pe=(e=>{const t=(e,t)=>{let r=e.textures[t];return r||(r=e.textures[t]=new Image,t.startsWith("http://")||t.startsWith("https://")||t.startsWith("data:")||t.startsWith("/")?r.src=t:r.src="/image/".concat(t),r)};return e.bodies=function(e,r,n){const s=n,o=e.options,i=o.showInternalEdges||!o.wireframes,a=o.font||"bold 60px 'Arial'",c=o.fontColor||"gray";for(let l=0;l<r.length;l+=1){const n=r[l];if(n.visible)for(let r=n.parts.length>1?1:0;r<n.parts.length;r+=1){const l=n.parts[r];if(l.visible){if(1!==l.opacity&&(s.globalAlpha=l.opacity),l.image){const r=t(e,l.image);s.translate(l.position.x,l.position.y),s.rotate(l.angle),s.drawImage(r,-.5*l.width,-.5*l.height,l.width,l.height),s.rotate(-l.angle),s.translate(-l.position.x,-l.position.y)}else{if(l.circleRadius)s.beginPath(),s.arc(l.position.x,l.position.y,l.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(l.vertices[0].x,l.vertices[0].y);for(let e=1;e<l.vertices.length;e+=1)!l.vertices[e-1].isInternal||i?s.lineTo(l.vertices[e].x,l.vertices[e].y):s.moveTo(l.vertices[e].x,l.vertices[e].y),l.vertices[e].isInternal&&!i&&s.moveTo(l.vertices[(e+1)%l.vertices.length].x,l.vertices[(e+1)%l.vertices.length].y);s.lineTo(l.vertices[0].x,l.vertices[0].y),s.closePath()}o.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb",s.stroke()):(s.fillStyle=l.fillStyle,l.lineWidth&&(s.lineWidth=l.lineWidth,s.strokeStyle=l.strokeStyle,s.stroke()),s.fill())}void 0!==l.value&&(l.ref&&(l.value=l.ref()),s.save(),s.font=l.font||a,s.fillStyle=l.fontColor||c,s.textAlign=l.textAlign||"center",l.shadowColor&&(s.shadowColor=l.shadowColor,s.shadowBlur=s.shadowBlur||0,s.shadowOffsetX=s.shadowOffsetX||2,s.shadowOffsetY=s.shadowOffsetY||2),s.fillText("".concat(l.value),l.position.x,l.position.y+10),s.restore()),s.globalAlpha=1}}}},e})(K.Render),he=K.Constraint,de=K.MouseConstraint,fe=K.Mouse,me=K.World,be=K.Bounds,ye=K.Vertices,ge=K.Detector,ve=K.Common;class _e{constructor(e,t,r=!1){this.settings=void 0,this.code=void 0,this.world=void 0,this.interval=void 0,this.waitRestart=void 0,this.isExecuting=void 0,this.runner=void 0,this.engine=void 0,this.render=void 0,this.canvas=void 0,this.vars=void 0,this.new_=((e,t,r,n)=>{n.position||(n.position={x:t,y:r});const s=e(this,n);return me.add(this.engine.world,[s]),s}),this.Circle=((e,t,r)=>this.new_(this.vars.Circle,e,t,r)),this.Rectangle=((e,t,r)=>this.new_(this.vars.Rectangle,e,t,r)),this.Polygon=((e,t,r)=>this.new_(this.vars.Polygon,e,t,r)),this.Label=((e,t,r)=>this.new_(this.vars.Label,e,t,r)),this.World=((e,t,r)=>{if(this.engine&&this.world){this.world.viewWidth=e,this.world.viewHeight=t;const n=this.world.view.min;this.world.view={min:n,max:{x:n.x+e,y:n.y+t}},this.resize(this.render.options.width,this.render.options.height),pe.lookAt(this.render,this.world.view),r&&Object.keys(r).map(e=>{this.world&&e in this.world&&("background"==e&&(this.render.options.background=r.background),this.world[e]=r[e]),this.engine&&e in this.engine.world&&(this.engine.world[e]=r[e])})}}),this.settings=e,this.code=t,this.world=null,this.interval=500,this.waitRestart=r,this.isExecuting=!1,this.runner=null,this.engine=null,this.render=null,this.canvas=null,this.vars={}}initCode(){const e=this.code,t=e.world.width||1e3,r=e.world.height||1e3,n=e.world.viewWidth||t,s=e.world.viewHeight||r,o=e.world.position||{x:0,y:0};this.code=e,this.world={width:t,height:r,viewWidth:n,viewHeight:s,background:e.world.background||"white",gravity:e.world.gravitiy||{x:0,y:1},colorScheme:ce(e.world.colorScheme||""),opacity:e.world.opacity||1,font:e.world.font||"bold 60px 'Arial'",view:e.world.view||{min:o,max:{x:o.x+n,y:o.y+s}},density:e.world.density||.001,friction:e.world.friction||.1,airFriction:e.world.airFriction||.01,frictionStatic:e.world.frictionStatic||.5,motion:e.world.motion||0,restitution:e.world.restitution||0}}startCode(){if(this.engine=le.create(),this.world.gravity){const e=this.engine;window.addEventListener("deviceorientation",t=>{const r=window.orientation||0,n=e.world.gravity;0===r?(n.x=ve.clamp(t.gamma,-90,90)/90,n.y=ve.clamp(t.beta,-90,90)/90):180===r?(n.x=ve.clamp(t.gamma,-90,90)/90,n.y=ve.clamp(-t.beta,-90,90)/90):90===r?(n.x=ve.clamp(t.beta,-90,90)/90,n.y=ve.clamp(-t.gamma,-90,90)/90):-90===r&&(n.x=ve.clamp(-t.beta,-90,90)/90,n.y=ve.clamp(t.gamma,-90,90)/90)})}K.Events.on(this.engine,"beforeUpdate",()=>{const e=this.engine.timing.timestamp;this.settings.eachUpdate&&this.settings.eachUpdate(e);const t=K.Composite.allBodies(this.engine.world);for(let r=0;r<t.length;r+=1){const n=t[r];n.move&&n.move(n,e)}}),K.Events.on(this.engine,"collisionActive",e=>{const t=e.pairs;for(let r=0;r<t.length;r+=1){const e=t[r];e.bodyA.collisionActive&&e.bodyA.collisionActive(e.bodyA,e.bodyB),e.bodyB.collisionActive&&e.bodyB.collisionActive(e.bodyB,e.bodyA)}}),K.Events.on(this.engine,"collisionStart",e=>{const t=e.pairs;for(let r=0;r<t.length;r+=1){const e=t[r];e.bodyA.collisionStart&&e.bodyA.collisionStart(e.bodyA,e.bodyB),e.bodyB.collisionStart&&e.bodyB.collisionStart(e.bodyB,e.bodyA)}}),K.Events.on(this.engine,"collisionEnd",e=>{const t=e.pairs;for(let r=0;r<t.length;r+=1){const e=t[r];e.bodyA.collisionEnd&&e.bodyA.collisionEnd(e.bodyA,e.bodyB),e.bodyB.collisionEnd&&e.bodyB.collisionEnd(e.bodyB,e.bodyA)}}),this.runner=ue.create({isFixed:!1});const e=document.getElementById(this.settings.canvas);let t=e.clientWidth,r=e.clientWidth*this.world.height/this.world.width;r>e.clientHeight&&(r=e.clientHeight,t=e.clientHeight*this.world.width/this.world.height);const n={element:e,engine:this.engine,options:{width:t,height:r,background:this.world.background,font:this.world.font,wireframes:!1}};this.render=pe.create(n),this.canvas=this.render.canvas,pe.lookAt(this.render,this.world.view);const s=fe.create(this.render.canvas),o={pointA:{x:0,y:0},pointB:{x:0,y:0},stiffness:this.world.mouseStiffness||.2,render:{visible:!1}},i=de.create(this.engine,{mouse:s,constraint:he.create(o)});me.add(this.engine.world,i),this.render.mouse=s,K.Events.on(i,"mousedown",e=>{const t=e.mouse;let r=e.sourcebody;const n=K.Composite.allBodies(this.engine.world);for(let s=0;s<n.length;s+=1)if(r=n[s],be.contains(r.bounds,t.position)&&ge.canCollide(r.collisionFilter,i.collisionFilter))for(let e=r.parts.length>1?1:0;e<r.parts.length;e+=1){const n=r.parts[e];if(n.clicked&&ye.contains(n.vertices,t.position)){n.clicked(n);break}}}),this.vars=oe({}),ue.run(this.runner,this.engine),pe.run(this.render)}dispose(){this.engine&&(me.clear(this.engine.world,!1),le.clear(this.engine)),this.runner&&ue.stop(this.runner),this.render&&(pe.stop(this.render),this.render.canvas.remove(),this.render.textures={})}getCode(){return this.code}getCanvas(){return this.canvas}resize(e,t){let r=e,n=e*this.world.viewHeight/this.world.viewWidth;n>t&&(n=t,r=t*this.world.viewWidth/this.world.viewHeight),this.canvas.setAttribute("width",r.toString()),this.canvas.setAttribute("height",n.toString()),this.render.options.width=r,this.render.options.height=n}async wait(e){await new Promise(t=>setTimeout(t,e))}async waitForRun(e){for(;this.waitRestart;)await this.wait(e);this.runner.enabled=!0}async execute_main(){const e=hr();this.isExecuting=!0;for await(const t of this.code.main(this))if(t<e&&pr())for(let e=0;e<this.interval/this.runner.delta;e+=1)this.engine=le.update(this.engine,void 0,void 0);else dr(t,t),await this.waitForRun(1e3),await this.wait(this.interval);this.isExecuting=!1,fr()}isRunning(){return this.runner&&this.runner.enabled}runCode(){this.initCode(),this.dispose(),this.startCode(),this.runner.enabled=!this.waitRestart,this.execute_main()}pause(){this.waitRestart=!0,this.runner.enabled=!1}start(){this.isExecuting?this.waitRestart=!1:this.runner.enabled=!0}getTimeStamp(){return this.engine.timing.timestamp}ln(e){return this.code.lines[e]}async input(e){this.runner.enabled=!1;const t=await ur(e||"");return this.runner.enabled=!0,this.waitForRun(500),console.log("input ".concat(t)),t}async input0(e){this.runner.enabled=!1;const t=document.getElementById("inputtext");t.placeholder=e||"Input here",document.getElementById("myOverlay").style.display="block";const r=await(async()=>{const e=document.querySelector("#submitInput");let r="";return document.getElementById("submitInput").onclick=(()=>{document.getElementById("myOverlay").style.display="none",r=t.value,t.value=""}),await(e=>new Promise(t=>{const r=t;e.addEventListener("click",r,{once:!0})}))(e),r})();return this.runner.enabled=!0,this.waitForRun(500),r}print(e,t={}){const r=this.world.width,n=ve.extend({shape:"label",value:"".concat(e),created:this.getTimeStamp(),move:(e,t)=>{const n=r-100*(t-e.created)*.003;K.Body.setPosition(e,{x:n,y:e.position.y}),n<-1&&me.remove(this.engine.world,e)}},t),s=this.world.width,o=this.world.height*(.9*Math.random()+.05);this.new_(this.vars.Label,s,o,n)}trace(e){console.log(e)}listAdd(e,t){return e.concat(t)}anyMul(e,t){if("string"===typeof e){let r="";for(let n=0;n<t;n+=1)r+=e;return r}if(Array.isArray(e)){let r=[];for(let n=0;n<t;n+=1)r=r.concat(e);return r}return e*t}anyIn(e,t){return t.indexOf(e)>=0}int(e){return"number"===typeof e?0|e:"string"===typeof e?Number.parseInt(e):"boolean"===typeof e?e?1:0:0|e}float(e){return"number"===typeof e?e:"string"===typeof e?Number.parseFloat(e):"boolean"===typeof e?e?1:0:e}str(e){return"boolean"===typeof e?e?"True":"False":Array.isArray(e)?"["+e.map(e=>this.str(e)).join(", ")+"]":"".concat(e)}range(e,t,r){let n=0,s=0,o=1;void 0===t?s=e:void 0!==r?(n=e,s=t,o=0===r?1:r):(n=e,s=t);const i=[];if(n<=s){o<0&&(o=-o);for(let e=n;e<s&&(i.push(e),!(i.length>1e5));e+=o);}else{o>0&&(o=-o);for(let e=n;e>s&&(i.push(e),!(i.length>1e5));e+=o);}return i}getindex(e,t){return"string"===typeof e?e.charAt((t+e.length)%e.length):Array.isArray(e)?e[(t+e.length)%e.length]:void 0}slice(e,t,r){return"string"===typeof e?(void 0==r&&(r=e.length),e.substr(t,r-t)):Array.isArray(e)?(void 0==r&&(r=e.length),e.slice(t,r)):void 0}find(e,t){return e.indexOf(t)}join(e,t){return t.join(e)}append(e,t){e.push(t)}len(e){return e.length}map(e,t){return Array.from(t,e)}setPosition(e,t,r){K.Body.setPosition(e,{x:t,y:r})}applyForce(e,t,r,n,s){K.Body.applyForce(e,{x:t,y:r},{x:n,y:s})}rotate(e,t,r,n){K.Body.rotate(e,t)}scale(e,t,r,n,s){K.Body.scale(e,t,r)}setAngle(e,t){K.Body.setAngle(e,t)}setVelocity(e,t,r){K.Body.setVelocity(e,{x:t,y:r})}setAngularVelocity(e,t){K.Body.setAngularVelocity(e,t)}setDensity(e,t){K.Body.setDensity(e,t)}setMass(e,t){K.Body.setMass(e,t)}setStatic(e,t){K.Body.setStatic(e,t)}}let Ee={canvas:"puppy-screen",ftrace:e=>{}};var we,Se=r(202);function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}!function(e){e.SET_VERSION_SHOW="SET_VERSION_SHOW"}(we||(we={}));const xe=e=>({type:we.SET_VERSION_SHOW,payload:{show:e}}),Oe={show:!1};var Te=(e=Oe,t)=>{switch(t.type){case we.SET_VERSION_SHOW:return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(r,!0).forEach(function(t){Object(y.a)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(r).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}({},e,{show:t.payload.show});default:return e}};const ke=Object(Se.b)({editor:T,course:j,puppy:V,input:G,version:Te}),Ie=Object(Se.c)(ke);var Ae=Ie;class Ce{constructor(e,t,r,n){this.tag=void 0,this.urn=void 0,this.inputs=void 0,this.spos=void 0,this.epos=void 0,this.nodes=void 0,this.tag=e,this.urn=n,this.inputs="",this.spos=t,this.epos=r,this.nodes=Ce.empties}setup(e,t){if(null!==this.urn){const n=[];for(var r=this.urn;null!==r;)n.push([r.edge,r.child.setup(e,t)]),r=r.prev;this.nodes=n.reverse()}this.urn=e,this.inputs=t;for(var n=0;n<this.nodes.length;n+=1)this[n]=this.nodes[n][1],""!==this.nodes[n][0]&&(this[this.nodes[n][0]]=this.nodes[n][1]);return this}is(e){return this.tag===e}isError(){return"err"===this.tag}subs(){const e=[];for(var t=0;t<this.nodes.length;t+=1)e.push(this.nodes[t][1]);return e}size(){return this.nodes.length}contains(e){for(var t=0;t<this.nodes.length;t+=1)if(this.nodes[t][0]===e)return!0;return!1}get(e){return this[e]}tokenize(e,t){if(void 0===e)return this.inputs.substring(this.spos,this.epos);const r=this[e];return void 0===r?t||"":r.tokenize()}pos(e){const t=this.inputs;e=Math.min(e,t.length);for(var r=0,n=0,s=0;s<=e;s+=1)10==t.charCodeAt(s)?(r+=1,n=0):n+=1;return[e,r,n]}begin(){return this.pos(this.spos)}end(){return this.pos(this.spos)}length(){return this.epos-this.spos}toString(){const e=[];return this.strOut(e),e.join("")}strOut(e){e.push("[#"),e.push(this.tag);for(const t of this.nodes)e.push(""===t[0]?" ":" ".concat(t[0],"=")),t[1].strOut(e);if(0==this.nodes.length){const t=this.inputs.substring(this.spos,this.epos);e.push(" '"),e.push(t),e.push("'")}e.push("]")}}Ce.empties=[];class Pe{constructor(e,t,r){this.prev=void 0,this.edge=void 0,this.child=void 0,this.prev=e,this.edge=t,this.child=r}}class Le{constructor(e,t,r,n){this.urn=void 0,this.inputs=void 0,this.pos=void 0,this.epos=void 0,this.head_pos=void 0,this.ast=void 0,this.state=void 0,this.memos=void 0,this.urn=e,this.inputs=t,this.pos=r,this.epos=n,this.head_pos=r,this.ast=null,this.state=null,this.memos=[];for(var s=0;s<1789;s++)this.memos.push(new Ze)}}const Me=e=>e.pos<e.epos&&(e.pos+=1,!0),je=()=>Me,Fe=e=>{const t=e.length;return r=>!!r.inputs.startsWith(e,r.pos)&&(r.pos+=t,!0)},De=(e,t)=>{const r=1<<(t%8|0);e[t/8|0]|=r},Re=(e,t)=>{const r=((e,t)=>{for(var r=0,n=0;n<e.length;n+=1)r=Math.max(e.charCodeAt(n),r);for(const s of t)r=Math.max(s.charCodeAt(0),r),r=Math.max(s.charCodeAt(1),r);return r})(e,t)+1,n=new Uint8Array(1+(r/8|0));n[0]=2;for(var s=0;s<e.length;s+=1)De(n,e.charCodeAt(s));for(const i of t)for(var o=i.charCodeAt(0);o<=i.charCodeAt(1);o+=1)De(n,o);return e=>{if(e.pos<e.epos){const t=e.inputs.charCodeAt(e.pos),r=t/8|0,s=1<<(t%8|0);if(r<n.length&&(n[r]&s)===s)return e.pos+=1,!0}return!1}},Be=e=>t=>{for(var r=t.pos,n=t.ast;e(t)&&t.pos>r;)r=t.pos,n=t.ast;return t.head_pos=Math.max(t.pos,t.head_pos),t.pos=r,t.ast=n,!0},Ve=e=>t=>{if(e(t)){for(var r=t.pos,n=t.ast;e(t)&&t.pos>r;)r=t.pos,n=t.ast;return t.head_pos=Math.max(t.pos,t.head_pos),t.pos=r,t.ast=n,!0}return!1},ze=e=>t=>{const r=t.pos;return!!e(t)&&(t.head_pos=Math.max(t.pos,t.head_pos),t.pos=r,!0)},He=e=>t=>{const r=t.pos,n=t.ast;return!e(t)||(t.head_pos=Math.max(t.pos,t.head_pos),t.pos=r,t.ast=n,!1)},Ue=e=>t=>{const r=t.pos,n=t.ast;return e(t)||(t.head_pos=Math.max(t.pos,t.head_pos),t.pos=r,t.ast=n),!0},We=(...e)=>t=>{for(const r of e)if(!r(t))return!1;return!0},Ge=(e,t)=>r=>e(r)&&t(r),Ke=(e,t,r)=>n=>e(n)&&t(n)&&r(n),qe=(...e)=>t=>{const r=t.pos,n=t.ast;for(const s of e){if(s(t))return!0;t.head_pos=Math.max(t.pos,t.head_pos),t.pos=r,t.ast=n}return!1},Xe=(e,t)=>r=>{const n=r.pos,s=r.ast;return!!e(r)||(r.head_pos=Math.max(r.pos,r.head_pos),r.pos=n,r.ast=s,t(r))},Ye=(e,t)=>e[t]?e[t]:r=>e[t](r);class Ze{constructor(){this.key=void 0,this.key=-1}}const Je=(e,t,r)=>n=>{const s=n.pos;return n.ast=null,!!e(n)&&(n.ast=new Ce(t,s+r,n.pos,n.ast),!0)},Qe=(e,t)=>r=>{const n=r.ast;return!!t(r)&&(r.ast=new Pe(n,e,r.ast),!0)},$e=(e,t,r,n)=>s=>{const o=s.pos;return s.ast=new Pe(null,e,s.ast),!!t(s)&&(s.ast=new Ce(r,o+n,s.pos,s.ast),!0)};class et{constructor(e,t,r){this.sid=void 0,this.value=void 0,this.prev=void 0,this.sid=e,this.value=t,this.prev=r}}const tt=(e,t)=>{for(;null!==e;){if(e.sid===t)return e;e=e.prev}return null},rt=e=>t=>{const r=tt(t.state,e);return!(null===r||!t.inputs.startsWith(r.value,t.pos))&&(t.pos+=r.value.length,!0)},nt=e=>{const t=ot(e);return void 0===t&&(console.log("undefined ".concat(e)),console.log(st)),(e,r)=>{const n=new Le((void 0===r?{}:r).urn||"(unknown source)",e,0,e.length);return t(n)?null===n.ast&&(n.ast=new Ce("",0,n.pos,null)):n.ast=new Ce("err",n.head_pos,n.head_pos+1,null),n.ast.setup(n.urn,e)}};let st=null;const ot=e=>(null===st&&((st={}).Source=Ke(Ue(Ye(st,"EOL")),Je(Be(Ge(Qe("",Ye(st,"Statement")),Ye(st,"EOL"))),"Source",0),Ye(st,"EOF")),st.Block=Je((e=>t=>{const r=t.state,n=e(t);return t.state=r,n})(Ke(((e,t)=>r=>{const n=r.pos;return!!t(r)&&(r.state=new et(e,r.inputs.substring(n,r.pos),r.state),!0)})(0,Ye(st,"INDENT")),Xe(Ke(Qe("",Ye(st,"Statement")),Be(Ge(Ye(st,'";"'),Qe("",Ye(st,"Statement")))),Ue(Ye(st,'";"'))),Ge(Ye(st,"_"),ze(Ye(st,"EOL")))),Be(Ge(rt(0),Xe(Ke(Qe("",Ye(st,"Statement")),Be(Ge(Ye(st,'";"'),Qe("",Ye(st,"Statement")))),Ue(Ye(st,'";"'))),Ge(Ye(st,"_"),ze(Ye(st,"EOL")))))))),"Block",0),st.Statement=qe(Ye(st,"ClassDecl"),Ye(st,"ImportDecl"),Ye(st,"FuncDecl"),Ye(st,"IfStmt"),Ye(st,"ForStmt"),Ye(st,"WhileStmt"),Ye(st,"Return"),Ye(st,"Yield"),Ye(st,"Break"),Ye(st,"Continue"),Ye(st,"VarDecl"),Ye(st,"Expression")),st.ImportDecl=Xe(Je(Ke(Ge(Fe("import"),Ye(st,"S")),Qe("name",Ye(st,"Name")),Ue(Ge(Ge(Fe("as"),Ye(st,"S")),Qe("alias",Ye(st,"Name"))))),"ImportDecl",0),Je(We(Ge(Fe("from"),Ye(st,"S")),Qe("name",Ye(st,"Name")),Ge(Fe("import"),Ye(st,"S")),Qe("names",Xe(Je(Ge(Qe("",Ye(st,"Name")),Be(Ke(Fe(","),Ye(st,"_"),Qe("",Ye(st,"Name"))))),"",0),Je(Ge(Fe("*"),Ye(st,"_")),"",0)))),"FromDecl",0)),st.ClassDecl=Je(We(Fe("class"),Ye(st,"S"),Ye(st,"_"),Qe("name",Ye(st,"Name")),Ue(We(Fe("("),Ye(st,"_"),Qe("extends",Ye(st,"Name")),Fe(")"),Ye(st,"_"))),Fe(":"),Ye(st,"_"),Xe(Qe("",Ye(st,"Block")),Qe("",Ye(st,"Statement")))),"ClassDecl",0),st.FuncDecl=Je(We(Fe("def"),Ye(st,"S"),Ye(st,"_"),Qe("name",Ye(st,"Name")),Qe("params",Ye(st,"FuncParams")),Fe(":"),Ye(st,"_"),Qe("body",Xe(Ye(st,"Block"),Ye(st,"Statement")))),"FuncDecl",0),st.FuncParams=Je(We(Ye(st,'"("'),Ue(Qe("",Ye(st,"FuncParam"))),Be(Ge(Ye(st,'","'),Qe("",Ye(st,"FuncParam")))),Ye(st,'")"')),"FuncParam",0),st.FuncParam=Je(Ge(Qe("name",Ye(st,"Name")),Ue(Ke(Fe(":"),Ye(st,"_"),Qe("type",Ye(st,"Name"))))),"Param",0),st.Lambda=Je(We(Fe("lambda"),Ue(Ke(Ye(st,"S"),Ye(st,"_"),Qe("params",Ye(st,"LambdaParams")))),Fe(":"),Ye(st,"_"),Qe("body",Xe(Ye(st,"Block"),Ye(st,"Statement")))),"FuncExpr",0),st.LambdaParams=Je(Ge(Ue(Qe("",Ye(st,"Name"))),Be(Ge(Ye(st,'","'),Qe("",Ye(st,"Name"))))),"Param",0),st.Return=Je(Ge(Fe("return"),Ue(Ke(Ye(st,"S"),Ye(st,"_"),Qe("expr",Ye(st,"Expression"))))),"Return",0),st.Yield=Je(Ge(Fe("yield"),Ye(st,"_")),"Yield",0),st.Pass=Je(Ge(Fe("pass"),Ye(st,"_")),"Pass",0),st.Break=Je(Ge(Fe("break"),Ye(st,"_")),"Break",0),st.Continue=Je(Ge(Fe("continue"),Ye(st,"_")),"Continue",0),st.IfStmt=Je(We(Ge(Fe("if"),Ye(st,"S")),Ye(st,"_"),Qe("cond",Ye(st,"Expression")),Fe(":"),Ye(st,"_"),Qe("then",Xe(Ye(st,"Block"),Ye(st,"Statement"))),Ue(Qe("elif",Ye(st,"ElifBlock"))),Ue(We(Xe(rt(0),Ye(st,"NL")),Fe("else"),Ye(st,"_"),Fe(":"),Ye(st,"_"),Qe("else",Xe(Ye(st,"Block"),Ye(st,"Statement")))))),"IfStmt",0),st.ElifBlock=Je(Ve(Qe("",Ye(st,"ElifStmt"))),"",0),st.ElifStmt=Je(We(Xe(rt(0),Ye(st,"NL")),Ge(Fe("elif"),Ye(st,"S")),Ye(st,"_"),Qe("cond",Ye(st,"Expression")),Fe(":"),Ye(st,"_"),Qe("then",Xe(Ye(st,"Block"),Ye(st,"Statement")))),"ElifStmt",0),st.ForStmt=Je(We(Ge(Fe("for"),Ye(st,"S")),Ye(st,"_"),Qe("each",Ye(st,"Name")),Ge(Fe("in"),Ye(st,"S")),Ye(st,"_"),Qe("list",Ye(st,"Expression")),Fe(":"),Ye(st,"_"),Qe("body",Xe(Ye(st,"Block"),Ye(st,"Statement")))),"ForStmt",0),st.WhileStmt=Je(We(Ge(Fe("while"),Ye(st,"S")),Ye(st,"_"),Qe("cond",Ye(st,"Expression")),Fe(":"),Ye(st,"_"),Qe("body",Xe(Ye(st,"Block"),Ye(st,"Statement")))),"WhileStmt",0),st.VarDecl=Xe(Je(We(Qe("left",Ye(st,"LeftHand")),Fe("="),Ye(st,"_"),Qe("right",Ye(st,"Expression"))),"VarDecl",0),Ye(st,"SelfAssign")),st.LeftHand=Ge(Ye(st,"Name"),Be(Xe($e("recv",Ke(Re(".",[]),Ye(st,"_"),Qe("name",Ye(st,"Name"))),"GetExpr",0),$e("recv",Ke(Ye(st,'"["'),Qe("index",Ye(st,"Expression")),Ye(st,'"]"')),"IndexExpr",0)))),st.SelfAssign=Je(Ke(Qe("left",Ye(st,"LeftHand")),Qe("name",Ye(st,"SelfAssignOp")),Qe("right",Ye(st,"Expression"))),"SelfAssign",0),st.SelfAssignOp=Ge(Je(Ge(qe(Fe("<<"),Fe(">>"),Fe("**"),Fe("//"),Re("+=*@/%&|^",[])),Fe("=")),"",0),Ye(st,"_")),st.Expression=Ge(Ye(st,"Operator"),Ue($e("then",We(Fe("if"),Ye(st,"_"),Qe("cond",Ye(st,"Expression")),Fe("else"),Ye(st,"_"),Qe("else",Ye(st,"Expression"))),"IfExpr",0))),st.Operator=Ge(Ye(st,"AndExpr"),Be($e("left",Ke(Ye(st,"OR"),Ye(st,"_"),Qe("right",Ye(st,"AndExpr"))),"Or",0))),st.OR=Xe(Fe("or"),Fe("||")),st.AndExpr=Ge(Ye(st,"NotExpr"),Be($e("left",Ke(Ye(st,"AND"),Ye(st,"_"),Qe("right",Ye(st,"NotExpr"))),"And",0))),st.AND=Xe(Fe("and"),Fe("&&")),st.NotExpr=Xe(Je(Ke(Ye(st,"NOT"),Ye(st,"_"),Qe("",Ye(st,"NotExpr"))),"Not",0),Ye(st,"EqExpr")),st.NOT=Xe(Ge(Fe("not"),Ye(st,"S")),Fe("!")),st.EqExpr=Ge(Ye(st,"SumExpr"),Be($e("left",Ke(Qe("name",Je(Ye(st,"EQ"),"Name",0)),Ye(st,"_"),Qe("right",Ye(st,"SumExpr"))),"Infix",0))),st.EQ=qe(Ge(Fe("=="),He(Fe("="))),Ge(Fe("!="),He(Fe("="))),Ge(Fe("<="),He(Fe("="))),Ge(Fe(">="),He(Fe("="))),Ge(Fe("<"),He(Fe("<"))),Ge(Fe(">"),He(Fe(">"))),Ge(Fe("in"),Ye(st,"S")),Ge(Fe("is"),Ye(st,"S")),Ge(Fe("is not"),Ye(st,"S"))),st.SumExpr=Ge(Ye(st,"ProdExpr"),Be($e("left",Ke(Qe("name",Je(Ye(st,"SUM"),"Name",0)),Ye(st,"_"),Qe("right",Ye(st,"ProdExpr"))),"Infix",0))),st.SUM=Re("+-|\uff0b\u30fc",[]),st.ProdExpr=Ge(Ye(st,"PowExpr"),Be($e("left",Ke(Qe("name",Je(Ye(st,"PROD"),"Name",0)),Ye(st,"_"),Qe("right",Ye(st,"PowExpr"))),"Infix",0))),st.PROD=qe(Fe("//"),Fe("<<"),Fe(">>"),Re("*/%^&\xd7\xf7",[])),st.PowExpr=Ge(Ye(st,"UnaryExpr"),Be($e("left",Ke(Qe("name",Je(Fe("**"),"Name",0)),Ye(st,"_"),Qe("right",Ye(st,"UnaryExpr"))),"Infix",0))),st.UnaryExpr=Xe(Je(Ke(Qe("name",Je(Ye(st,"PRE"),"Name",0)),Ye(st,"_"),Qe("expr",Ye(st,"UnaryExpr"))),"Unary",0),Ye(st,"SuffixExpr")),st.PRE=Re("+-~",[]),st.SuffixExpr=Ge(Ye(st,"Primary"),Be(qe($e("recv",We(Fe("."),Ye(st,"_"),Qe("name",Ye(st,"Name")),Ye(st,'"("'),Qe("params",Ye(st,"Arguments")),Ye(st,"__"),Ye(st,'")"')),"MethodExpr",0),$e("recv",Ke(Re(".",[]),Ye(st,"_"),Qe("name",Ye(st,"Name"))),"GetExpr",0),$e("name",We(Ye(st,'"("'),Qe("params",Ye(st,"Arguments")),Ye(st,"__"),Ye(st,'")"')),"ApplyExpr",0),$e("recv",We(Ye(st,'"["'),Ue(Qe("left",Ye(st,"Expression"))),Fe(":"),Ye(st,"_"),Ue(Qe("right",Ye(st,"Expression"))),Ye(st,'"]"')),"Slice",0),$e("recv",Ke(Ye(st,'"["'),Qe("index",Ye(st,"Expression")),Ye(st,'"]"')),"IndexExpr",0)))),st.Arguments=Je(Ke(Ue(Ge(Qe("",Ye(st,"Expression")),He(Fe("=")))),Be(We(Fe(","),Ye(st,"__"),Qe("",Ye(st,"Expression")),He(Fe("=")))),Ue(Qe("",Ye(st,"KeywordArgument")))),"Arguments",0),st.KeywordArgument=Je(Ke(Ue(Ge(Fe(","),Ye(st,"__"))),Qe("",Ye(st,"Argument")),Be(Ke(Fe(","),Ye(st,"__"),Qe("",Ye(st,"Argument"))))),"Data",0),st.Argument=Je(We(Qe("name",Ye(st,"Name")),Fe("="),Ye(st,"_"),Qe("value",Ye(st,"Expression"))),"KeyValue",0),st.Primary=qe(Ye(st,"GroupExpr"),Ye(st,"ListExpr"),Ye(st,"DataExpr"),Ye(st,"Lambda"),Ye(st,"Constant"),Ye(st,"Name")),st.GroupExpr=Je(We(Ye(st,'"("'),Qe("",Ye(st,"Expression")),Be(Ge(Ye(st,'","'),Qe("",Ye(st,"Expression")))),Ye(st,"__"),Ye(st,'")"')),"Tuple",0),st.ListExpr=Je(We(Ye(st,'"["'),Ue(Ge(Qe("",Ye(st,"Expression")),Be(Ge(Ye(st,'","'),Qe("",Ye(st,"Expression")))))),Be(Ye(st,'","')),Ye(st,"__"),Ye(st,'"]"')),"List",0),st.DataExpr=Je(We(Ye(st,'"{"'),Qe("",Ye(st,"KeyValue")),Be(Ge(Be(Ye(st,'","')),Qe("",Ye(st,"KeyValue")))),Be(Ye(st,'","')),Ye(st,"__"),Ye(st,'"}"')),"Data",0),st.KeyValue=Je(Ke(Qe("name",qe(Ye(st,"Name"),Ye(st,"StringExpr"),Ye(st,"CharExpr"))),Ye(st,'":"'),Qe("value",Ye(st,"Expression"))),"KeyValue",0),st.Name=Xe(Ye(st,"Identifier"),Ye(st,"NLPSymbol")),st.Identifier=Ge(Je(Ge(Re("",["AZ","az"]),Be(Re("_",["AZ","az","09"]))),"Name",0),Ye(st,"_")),st.NLPSymbol=Ge(Je(Ve(qe(Ye(st,"HIRA"),Ye(st,"KATA"),Ye(st,"KANJI"))),"NLPSymbol",0),Ye(st,"_")),st.Constant=qe(Ye(st,"FormatString"),Ye(st,"LongString"),Ye(st,"StringExpr"),Ye(st,"CharExpr"),Ye(st,"Number"),Ye(st,"TrueExpr"),Ye(st,"FalseExpr"),Ye(st,"NullExpr")),st.FormatString=Ke(Re("Ff",[]),qe(Ke(Fe("'''"),Je(Be(Qe("",Ye(st,"FormatContent3"))),"Format",0),Fe("'''")),Ke(Fe("'"),Je(Be(Qe("",Ye(st,"FormatContent1"))),"Format",0),Fe("'")),Ke(Fe('"""'),Je(Be(Qe("",Ye(st,"FormatContent3D"))),"Format",0),Fe('"""')),Ke(Fe('"'),Je(Be(Qe("",Ye(st,"FormatContent1D"))),"Format",0),Fe('"'))),Ye(st,"_")),st.FormatContent3=Xe(Ke(Fe("{"),Ye(st,"Expression"),Fe("}")),Je(Be(Ke(He(Fe("'''")),He(Fe("{")),je())),"StringPart",0)),st.FormatContent1=Xe(Ke(Fe("{"),Ye(st,"Expression"),Fe("}")),Je(Be(Ke(He(Fe("'")),He(Fe("{")),je())),"StringPart",0)),st.FormatContent3D=Xe(Ke(Fe("{"),Ye(st,"Expression"),Fe("}")),Je(Be(Ke(He(Fe('"""')),He(Fe("{")),je())),"StringPart",0)),st.FormatContent1D=Xe(Ke(Fe("{"),Ye(st,"Expression"),Fe("}")),Je(Be(Ke(He(Fe('"')),He(Fe("{")),je())),"StringPart",0)),st.LongString=Xe(We(Fe("''"),Je(Ke(Fe("'"),Be(qe(Ye(st,"ESCAPE"),Ge(He(Re("\\'",[])),je()),Ge(He(Fe("'''")),Fe("'")))),Fe("'")),"MultiString",0),Fe("''"),Ye(st,"_")),We(Fe('""'),Je(Ke(Fe('"'),Be(qe(Ye(st,"ESCAPE"),Ge(He(Re('\\"',[])),je()),Ge(He(Fe('"""')),Fe('"')))),Fe('"')),"MultiString",0),Fe('""'),Ye(st,"_"))),st.StringExpr=Ge(Je(Ke(Fe('"'),Be(Ye(st,"STRING_CONTENT")),Fe('"')),"String",0),Ye(st,"_")),st.CharExpr=Ge(Je(Ke(Fe("'"),Be(Ye(st,"CHAR_CONTENT")),Fe("'")),"Char",0),Ye(st,"_")),st.STRING_CONTENT=Xe(Ye(st,"ESCAPE"),Ge(He(Re('"\n\\',[])),je())),st.CHAR_CONTENT=Xe(Ye(st,"ESCAPE"),Ge(He(Re("'\n\\",[])),je())),st.ESCAPE=qe(Ge(Fe("\\"),Re("'\"\\bfnrt",[])),We(Fe("\\"),Re("",["03"]),Re("",["07"]),Re("",["07"])),Ke(Fe("\\"),Re("",["07"]),Re("",["07"])),Ge(Fe("\\"),Re("",["07"])),We(Fe("\\"),Re("uU",[]),Ye(st,"HEX"),Ye(st,"HEX"),Ye(st,"HEX"),Ye(st,"HEX"))),st.IntExpr=Ge(Je(qe(Ye(st,"DECIMAL"),Ye(st,"HEXADECIMAL"),Ye(st,"BINARY"),Ye(st,"OCTAL")),"Int",0),Ye(st,"_")),st.DECIMAL=Xe(Ge(Fe("0"),He(Re("bBxX_",["09"]))),Ge(Re("",["19"]),Be(Ge(Be(Fe("_")),Ye(st,"DIGIT"))))),st.HEXADECIMAL=We(Fe("0"),Re("xX",[]),Ye(st,"HEX"),Be(Ge(Be(Fe("_")),Ye(st,"HEX")))),st.BINARY=We(Fe("0"),Re("bB",[]),Re("01",[]),Be(Ge(Be(Fe("_")),Re("01",[])))),st.OCTAL=Ge(Fe("0"),Be(Ge(Be(Fe("_")),Re("",["07"])))),st.DIGIT=Re("",["09"]),st.HEX=Re("",["af","AF","09"]),st.LONG_SUFFIX=Re("lL",[]),st.FloatExpr=Ge(Je(Ye(st,"FLOAT"),"Double",0),Ye(st,"_")),st.FLOAT=Xe(Ge(Ye(st,"FRACTION"),Ue(Ye(st,"EXPONENT"))),Ge(Ve(Ye(st,"DIGIT")),Ye(st,"EXPONENT"))),st.FRACTION=Xe(We(He(Fe("_")),Be(Ge(Be(Fe("_")),Ye(st,"DIGIT"))),Fe("."),Ye(st,"DIGIT"),Be(Ge(Be(Fe("_")),Ye(st,"DIGIT")))),We(Ye(st,"DIGIT"),Be(Ge(Be(Fe("_")),Ye(st,"DIGIT"))),Fe("."),He(Fe(".")))),st.EXPONENT=We(Re("eE",[]),Ue(Re("+-",[])),Ye(st,"DIGIT"),Be(Ge(Be(Fe("_")),Ye(st,"DIGIT")))),st.Number=Xe(Ye(st,"FloatExpr"),Ye(st,"IntExpr")),st.TrueExpr=Ge(Je(Ge(Re("Tt",[]),Fe("rue")),"TrueExpr",0),Ye(st,"_")),st.FalseExpr=Ge(Je(Ge(Re("Ff",[]),Fe("alse")),"FalseExpr",0),Ye(st,"_")),st.NullExpr=Ge(Je(Xe(Fe("None"),Fe("null")),"Null",0),Ye(st,"_")),st.EOF=He(je()),st.NL=Xe(Fe("\n"),Ye(st,"EOF")),st.S=Re(" \t\r\u3000\u3001\uff0c",[]),st._=Be(qe(Ye(st,"S"),Ye(st,"BLOCKCOMMENT"),Ye(st,"LINECOMMENT"))),st.__=Be(qe(Ye(st,"S"),Fe("\n"),Ye(st,"BLOCKCOMMENT"),Ye(st,"LINECOMMENT"))),st.SPC=Ve(qe(Ye(st,"S"),Ye(st,"BLOCKCOMMENT"),Ye(st,"LINECOMMENT"))),st.BLOCKCOMMENT=Xe(Ke(Fe("/*"),Be(Ge(He(Fe("*/")),je())),Fe("*/")),Ke(Fe("(*"),Be(Ge(He(Fe("*)")),je())),Fe("*)"))),st.LINECOMMENT=Ge(Fe("#"),Be(Ge(He(Ye(st,"NL")),je()))),st.EOL=Ke(Ye(st,"_"),Ye(st,"NL"),Be(Ge(Ye(st,"_"),Ye(st,"NL")))),st.INDENT=Ge(Fe("\n"),Ve(Re(" \t",[]))),st.C=qe(Ye(st,"HIRA"),Ye(st,"KATA"),Ye(st,"KANJI"),Ye(st,"MARK"),Re("",["\uff41\uff5a","\uff21\uff3a","\uff10\uff19"])),st.HIRA=Re("",["\u3041\u3093"]),st.KATA=Re("",["\u30a1\u30f6"]),st.KANJI=Re("\u3005\u3007\u303b\u30fc",["\u3400\u4db5","\u4e00\u9fa0"]),st.MARK=Re("\u30fc",[]),st.W=Re("\u3005\u3007\u303b\u30fc",["\u30a1\u30f6","\u3400\u4db5","\u4e00\u9fa0","\uff21\uff3a"]),st['"{"']=Ge(Re("{\uff5b",[]),Ye(st,"__")),st['"}"']=Ge(Re("}\uff5d",[]),Ye(st,"_")),st['"["']=Ge(Re("[\uff3b\u3010",[]),Ye(st,"__")),st['"]"']=Ge(Re("]\uff3d\u3011",[]),Ye(st,"_")),st['"("']=Ge(Re("(\uff08",[]),Ye(st,"__")),st['")"']=Ge(Re(")\uff09",[]),Ye(st,"_")),st['"="']=Ke(Re("=\uff1d",[]),He(Re("=\uff1d",[])),Ye(st,"_")),st['"."']=Ge(Re(".\uff0e\u3002",[]),Ye(st,"_")),st['","']=Ge(Re(",\u3001",[]),Ye(st,"_")),st['";"']=Ve(Ge(Re(";\uff1b",[]),Ye(st,"_"))),st['":"']=Ge(Re(":\uff1a",[]),Ye(st,"_"))),st[e]),it="\t";class at{constructor(e){this.isOptional=void 0,this.isOptional=e}toString(){return"?"}rtype(){return this}psize(){return 0}ptype(e){return this}accept(e,t){return!1}realType(){return this}isPattern(){return!1}hasAlpha(){return!1}toVarType(e){return this}}class ct extends at{constructor(e,t){super(void 0!==t),this.name=void 0,this.name=e}toString(){return this.name}accept(e,t){const r=e.realType();return r instanceof ct?this.name===r.name:r instanceof At&&r.must(this,t)}isPattern(){return"a"===this.name||"b"===this.name}hasAlpha(){return"a"===this.name||"b"===this.name}toVarType(e){if(this.hasAlpha()){return void 0===e[this.name]&&(e[this.name]=new At(e.env,e.t)),e[this.name]}return this}}class lt extends ct{constructor(){super("void",!1)}accept(e,t){const r=e.realType();return r instanceof At&&r.must(this,t),!0}}class ut extends at{constructor(...e){super(!1),this.types=void 0,this.types=e}toString(){const e=["("];for(var t=1;t<this.types.length;t+=1)t>1&&e.push(","),e.push(this.types[t].toString());return e.push(")->"),e.push(this.types[0].toString()),e.join("")}rtype(){return this.types[0]}psize(){return this.types.length-1}ptype(e){return this.types[e+1]}accept(e,t){const r=e.realType();if(r instanceof ut&&this.psize()==r.psize())for(var n=0;n<this.types.length;n+=1)return!!this.types[n].accept(r.types[n],t);return r instanceof At&&r.must(this,t)}isPattern(){for(const e of this.types)if(e.isPattern())return!0;return!1}hasAlpha(){for(const e of this.types)if(e.hasAlpha())return!0;return!1}toVarType(e){if(this.hasAlpha()){const t=[];for(const r of this.types)t.push(r.toVarType(e));return new ut(...t)}return this}}class pt extends at{constructor(e,t){super(void 0!==t),this.param=void 0,this.param=e}toString(){return"List[".concat(this.param.toString(),"]")}psize(){return 1}ptype(e){return this.param}realType(){const e=this.param.realType();return e!==this.param?new pt(e):this}accept(e,t){const r=e.realType();return r instanceof pt?this.param==ft||this.param.accept(r.param,t):r instanceof At&&r.must(this,t)}isPattern(){return this.param.isPattern()}hasAlpha(){return this.param.hasAlpha()}toVarType(e){return this.hasAlpha()?new pt(this.param.toVarType(e)):this}}class ht extends at{constructor(...e){super(!1),this.types=void 0,this.types=e}toString(){const e=[];for(var t=0;t<this.types.length;t+=1)t>0&&e.push("|"),e.push(this.types[t].toString());return e.join("")}psize(){return this.types.length}ptype(e){return this.types[e]}accept(e,t){for(const r of this.types)if(r.accept(e,!1))return!0;return console.log("FAIL ".concat(e," ").concat(this.toString())),!1}isPattern(){return!0}hasAlpha(){for(const e of this.types)if(e.hasAlpha())return!0;return!1}toVarType(e){if(this.hasAlpha()){const t=[];for(const r of this.types)t.push(r.toVarType(e));return new ht(...t)}return this}}const dt=(...e)=>1===e.length?e[0]:new ht(...e),ft=new class extends ct{constructor(e){super("any",e)}accept(e,t){return!(e.realType()instanceof lt)}isPattern(){return!0}hasAlpha(){return!0}toVarType(e){return new At(e.env,e.t)}},mt=new lt,bt=new ct("Bool"),yt=new ct("Number"),gt=new ct("Number",!0),vt=yt,_t=new ct("String"),Et=new ct("String",!0),wt=new ct("a"),St=new pt(wt),Nt=new pt(yt),xt=new pt(ft),Ot=new ct("Object"),Tt=new ct("Vec"),kt=[],It=(e,t,r)=>{const n=[];for(const s of e)-1===n.indexOf(s)&&n.push(s);for(const s of t)-1===n.indexOf(s)&&n.push(s);if(void 0!==r)for(const s of t)-1===n.indexOf(s)&&n.push(s);return n};class At extends at{constructor(e,t){super(!1),this.varMap=void 0,this.varid=void 0,this.ref=void 0,this.varMap=e.getroot("@varmap"),this.varid=this.varMap.length,this.varMap.push(kt),this.ref=t}toString(){const e=this.varMap[this.varid];return e instanceof at?e.toString():"any"}realType(){const e=this.varMap[this.varid];return e instanceof at?e:this}accept(e,t){var r=this.varMap[this.varid];return r instanceof at&&r!==this?r.accept(e,t):this.must(e.realType(),t)}must(e,t){const r=e.realType();if(t){if(r instanceof At){if(r.varid===this.varid)return!0;const e=It(this.varMap[this.varid],this.varMap[r.varid],[r.varid,this.varid]);for(const t of e)this.varMap[t]=e;return!0}if(!r.isPattern()){const e=this.varMap[this.varid];for(const t of e)this.varMap[t]=r;this.varMap[this.varid]=r}}return!0}hasAlpha(){return!1}}class Ct extends at{constructor(e){super(!1),this.options=void 0,this.options=e}toString(){return JSON.stringify(this.options)}accept(e){return e.realType()instanceof Ct}equals(e,t){return this.accept(e)}isPattern(){return!1}hasAlpha(){return!1}toVarType(e){return this}}class Pt{constructor(e,t,r){this.code=void 0,this.ty=void 0,this.isMatter=!1,this.isMutable=!1,this.code=e,this.ty=t.realType(),void 0!==r&&(this.isMatter=void 0!==r.isMatter&&r.isMatter,this.isMutable=void 0!=r.isMutable&&r.isMutable)}isGlobal(){return 0==this.code.indexOf("vars[")}}const Lt=new ht(_t,yt),Mt=new Ct({}),jt=new ut(vt,vt),Ft=new ut(vt,vt,vt),Dt=new ut(Ot,yt,yt,Mt),Rt={pi:new Pt("3.14159",vt),sin:new Pt("Math.sin",jt),cos:new Pt("Math.cos",jt),tan:new Pt("Math.tan",jt),sqrt:new Pt("Math.sqrt",jt),log:new Pt("Math.log",jt),log10:new Pt("Math.log10",jt),pow:new Pt("Math.pow",Ft),hypot:new Pt("Math.hypot",Ft),gcd:new Pt("puppy.gcd",Ft)},Bt={input:new Pt("await puppy.input",new ut(_t,Et)),print:new Pt("puppy.print",new ut(mt,ft,Mt),{isMatter:!0}),len:new Pt("lib.len",new ut(yt,dt(_t,St))),range:new Pt("lib.range",new ut(Nt,yt,gt,gt)),".append":new Pt("lib.append",new ut(mt,St,wt)),int:new Pt("lib.int",new ut(yt,dt(bt,_t,yt))),float:new Pt("lib.float",new ut(vt,dt(bt,_t,yt))),str:new Pt("lib.str",new ut(_t,ft))},Vt={math:Rt,random:{random:new Pt("Math.random",new ut(yt))},matterjs:{World:new Pt("puppy.World",Dt,{isMatter:!0}),Circle:new Pt("puppy.Circle",Dt,{isMatter:!0}),Rectangle:new Pt("puppy.Rectangle",Dt,{isMatter:!0}),Polygon:new Pt("puppy.Polygon",Dt,{isMatter:!0}),Label:new Pt("puppy.Label",Dt,{isMatter:!0}),".setPosition":new Pt("lib.setPosition",new ut(mt,Ot,yt,yt)),".applyForce":new Pt("lib.applyForce",new ut(mt,Ot,yt,yt,yt,yt)),".rotate":new Pt("lib.rotate",new ut(mt,Ot,yt,gt,gt)),".scale":new Pt("lib.scale",new ut(mt,Ot,yt,yt,gt,gt)),".setAngle":new Pt("lib.setAngle",new ut(mt,Ot,yt)),".setAngularVelocity":new Pt("lib.setAngularVelocity",new ut(mt,Ot,yt)),".setDensity":new Pt("lib.setDensity",new ut(mt,Ot,yt)),".setMass":new Pt("lib.setMass",new ut(mt,Ot,yt)),".setStatic":new Pt("lib.setStatic",new ut(mt,Ot,bt)),".setVelocity":new Pt("lib.setVelocity",new ut(mt,Ot,yt))}},zt={};(()=>{for(const e of Object.keys(Vt))for(const t of Object.keys(Vt[e]))zt[t]=e})();const Ht={width:yt,height:yt,x:yt,y:yt,image:_t,strokeStyle:Lt,lineWidth:yt,fillStyle:Lt,restitution:vt,angle:vt,position:Tt,mass:yt,density:yt,area:yt,friction:vt,frictionStatic:vt,airFriction:vt,torque:vt,stiffness:vt,isSensor:bt,isStatic:bt,damping:vt,in:new ut(mt,Ot,Ot),out:new ut(mt,Ot,Ot),over:new ut(mt,Ot,Ot),clicked:new ut(mt,Ot),font:_t,fontColor:Lt,textAlign:_t,value:yt,message:_t},Ut=dt(yt,_t),Wt={and:"&&",or:"||",not:"!","+=":"+","-=":"-","*=":"*","//=":"//","/=":"/","<<=":"<<",">>=":">>","|=":"|","&=":"&","^=":"^"},Gt=e=>{const t=Wt[e];return void 0!==t?t:e},Kt={"+":dt(yt,_t,xt),"-":yt,"**":yt,"*":dt(yt,_t,xt),"/":yt,"//":yt,"%":yt,"==":ft,"!=":ft,in:ft,"<":Ut,"<=":Ut,">":Ut,">=":Ut,"^":yt,"|":yt,"&":yt,"<<":yt,">>":yt},qt=e=>{const t=Kt[e];return void 0===t?(console.log("FIXME undefined '".concat(e,"'")),ft):t},Xt=(e,t)=>{if("in"==e)return dt(new pt(t),_t);const r=Kt[e];return r===ft||r===yt||"*"===e?r:t},Yt=(e,t,r)=>{const n=Math.min(t+1,e.length);for(var s=1,o=0,i=0;i<n;i+=1)10==e.charCodeAt(i)&&(s+=1,o=0),o+=1;return r.pos=t,r.row=s,r.col=o,r};class Zt{constructor(e){this.root=void 0,this.parent=void 0,this.vars=void 0,this.vars={},void 0===e?(this.root=this,this.parent=null,this.vars["@varmap"]=[],this.vars["@logs"]=[],this.vars["@trace"]=[],this.vars["@indent"]=it):(this.root=e.root,this.parent=e)}get(e,t){for(var r=this;null!==r;){const t=r.vars[e];if(void 0!==t)return t;r=r.parent}return t}has(e){return void 0!==this.get(e)}set(e,t){return this.vars[e]=t,t}getroot(e,t){return this.root.vars[e]||t}setroot(e,t){return this.root.vars[e]=t,t}from_import(e,t){for(const r of Object.keys(e))void 0!==t&&-1===t.indexOf(r)||(this.vars[r]=e[r])}setModule(e,t){this.set(e,new Pt("undefined",new Ct(t)))}isModule(e){const t=this.get(e);return void 0!==t&&"undefined"===t.code&&t.ty instanceof Ct}getModule(e,t){const r=this.get(e);if(void 0!==r&&"undefined"===r.code&&r.ty instanceof Ct){return r.ty.options[t]}}perror(e,t){const r=this.root.vars["@logs"];if(void 0===t.type&&(t.type="error"),void 0===t.pos){const r=e.begin();t.pos=r[0],t.row=r[1],t.col=r[2]}void 0===t.len&&(t.len=e.epos-e.spos),r.push(t)}trace(e){const t=this.getroot("@trace"),r=t.length,n=e.begin();return t.push([n[0],n[1],n[2],e.epos-e.spos]),",puppy,".concat(r)}setInLoop(){return this.set("@inloop",!0),!0}inLoop(){return!0===this.get("@inloop")}setFunc(e){return this.set("@func",e),e}inFunc(){return void 0!==this.get("@func")}foundFunc(e,t){if(t.isMatter){const t=this.get("@func");if(void 0!==t)t.isMatter=!0;else{const t=Yt(e.inputs,e.spos,{type:"",key:""});this.setroot("@yeild",t.row)}}}isUtf8Name(e){for(var t=0;t<e.length;t+=1)if(e.charCodeAt(t)>128)return!0;return!1}local(e){if(this.isUtf8Name(e)){const r=this.getroot("@utf8map");if(void 0===r)return this.setroot("@utf8map",{}),this.local(e);var t=r[name];if(void 0===t){const e=Object.keys(r).length;t="_v".concat(e),r[name]=t}return t}return e}declVar(e,t){var r=this.inFunc()||this.inLoop()?this.local(e):"vars['".concat(e,"']");const n=new Pt(r,t);return n.isMutable=!0,this.set(e,n)}emitAutoYield(e){const t=this.getroot("@yeild");void 0===t||this.inFunc()?e.push("\n"):(e.push("; yield ".concat(t,";\n")),this.setroot("@yeild",void 0))}}class Jt{constructor(){}}const Qt=e=>e instanceof Ce?e.subs():[];class $t{constructor(){}conv(e,t,r){console.log(t.toString()),console.log(this[t.tag]);try{return this[t.tag](e,t,r)}catch(n){if(n instanceof Jt)throw n;if(void 0===this[t.tag])return e.perror(t,{type:"error",key:"UndefinedParseTree",subject:t.toString()}),this.skip(e,t,r);throw n}}skip(e,t,r){throw new Jt}check(e,t,r,n,s){const o=this.conv(t,r,n);return e.accept(o,!0)?o:(void 0===s&&(s={type:"error",key:"TypeError"}),s.request=e,s.given=o,t.perror(r,s),this.skip(t,r,n))}checkBinary(e,t,r,n,s,o,i,a){return"=="===r||"!="===r?(a.push("".concat(s," ").concat(r,"= ").concat(i)),bt):(n=n.realType(),o=o.realType(),"+"===r?n===yt&&o===yt?(a.push("(".concat(s," + ").concat(i,")")),yt):n.accept(o,!0)?(a.push("lib.anyAdd(".concat(s,",").concat(i,")")),n):(e.perror(t,{key:"BinaryTypeError",subject:r,request:n,given:o}),this.skip(e,t,a)):"*"===r?n===yt&&o===yt?(a.push("(".concat(s," * ").concat(i,")")),yt):(a.push("lib.anyMul(".concat(s,",").concat(i,")")),n===yt||xt.accept(o,!1)?o:(o===yt||xt.accept(n,!1),n)):"//"===r?(a.push("((".concat(s,"/").concat(i,")|0)")),yt):"**"===r?(a.push("Math.pow(".concat(s,",").concat(i,")")),yt):n.accept(o,!0)?(a.push("(".concat(s," ").concat(r," ").concat(i,")")),Kt[r]===Ut?bt:n):(e.perror(t,{key:"BinaryTypeError",subject:r,request:n,given:o}),this.skip(e,t,a)))}err(e,t,r){return e.perror(t,{type:"error",key:"SyntaxError"}),mt}FromDecl(e,t,r){const n=t.tokenize("name"),s=Vt[n];return void 0===s?(e.perror(t.get("name"),{type:"error",key:"UnknownPackageName"}),this.skip(e,t,r)):(e.from_import(s),mt)}ImportDecl(e,t,r){const n=t.tokenize("name"),s=t.tokenize("alias",n),o=Vt[n];return void 0===o?(e.perror(t.get("name"),{type:"error",key:"UnknownPackageName"}),this.skip(e,t,r)):(e.setModule(s,o),mt)}Source(e,t,r){for(const s of Qt(t))try{const t=[];t.push(e.get("@indent")),this.conv(e,s,t),e.emitAutoYield(t),r.push(t.join(""))}catch(n){if(!(n instanceof Jt))throw n}return mt}Block(e,t,r){const n=e.get("@indent"),s=it+n,o=new Zt(e);o.set("@indent",s),r.push("{\n");for(const i of Qt(t))r.push(o.get("@indent")),this.conv(o,i,r),o.emitAutoYield(r);return r.push(n+"}"),mt}IfExpr(e,t,r){r.push("(("),this.check(bt,e,t.cond,r),r.push(") ? (");const n=this.conv(e,t.then,r);return r.push(") : ("),this.check(n,e,t.else,r),r.push("))"),n}IfStmt(e,t,r){if(r.push("if ("),this.check(bt,e,t.cond,r),r.push(") "),this.conv(e,t.then,r),void 0!==t.elif)for(const n of t.elif.subs())this.conv(e,n,r);return void 0!==t.else&&(r.push("else "),this.conv(e,t.else,r)),mt}ElifStmt(e,t,r){return r.push("else if ("),this.check(bt,e,t.cond,r),r.push(") "),this.conv(e,t.then,r),mt}ForStmt(e,t,r){const n=t.each.tokenize(),s=new At(e,t.each);r.push("for (let ".concat(n," of ")),this.check(new pt(s),e,t.list,r),r.push(")");const o=new Zt(e);return o.setInLoop(),o.declVar(n,s),this.conv(o,t.body,r),mt}FuncDecl(e,t,r){const n=t.tokenize("name"),s=[new At(e,t.name)],o=[],i=new Zt(e),a=i.setFunc({name:n,return:s[0],hasReturn:!1,isMatter:!1});for(const p of t.params.subs()){const t=p.tokenize("name"),r=new At(e,p.name),n=i.declVar(t,r);o.push(n.code),s.push(r)}const c=new ut(...s),l=e.declVar(n,c),u=l.isGlobal()?"":"var ";return r.push("".concat(u).concat(l.code," = (").concat(o.join(", "),") => ")),this.conv(i,t.body,r),l.isMatter=a.isMatter,a.hasReturn||s[0].accept(mt,!0),console.log("DEFINED ".concat(n," :: ").concat(c)),mt}FuncExpr(e,t,r){const n=[new At(e,t)],s=[],o=new Zt(e),i=o.setFunc({return:n[0],hasReturn:!1});for(const c of t.params.subs()){const t=c.tokenize("name"),r=new At(e,c.name),i=o.declVar(t,r);s.push(i.code),n.push(r)}const a=new ut(...n);return r.push("(".concat(s.join(", "),") => ")),this.conv(o,t.body,r),i.hasReturn||n[0].accept(mt,!0),a}Return(e,t,r){if(!e.inFunc())return e.perror(t,{type:"warning",key:"OnlyInFunction",subject:"return"}),mt;const n=e.get("@func");return n.hasReturn=!0,void 0!==t.expr?(r.push("return "),this.check(n.return,e,t.expr,r)):r.push("return"),mt}Continue(e,t,r){return e.inLoop()?(r.push("continue"),mt):(e.perror(t,{type:"warning",key:"OnlyInLoop",subject:"continue"}),mt)}Break(e,t,r){return e.inLoop()?(r.push("break"),mt):(e.perror(t,{type:"warning",key:"OnlyInLoop",subject:"break"}),mt)}Pass(e,t,r){return mt}VarDecl(e,t,r){const n=t.left;if("Name"===n.tag){const o=n.tokenize();var s=e.get(o);if(void 0===s||e.inFunc()&&s.isGlobal()){const i=new At(e,n),a=[];this.check(i,e,t.right,a);const c=(s=e.declVar(o,i)).isGlobal()?"":"var ";return r.push("".concat(c).concat(s.code," = ").concat(a.join(""))),mt}}t.left.tag="Set".concat(t.left.tag);const o=this.conv(e,t.left,r);return r.push(" = "),this.check(o,e,t.right,r),mt}Name(e,t,r){const n=t.tokenize(),s=e.get(n);return void 0===s?(e.perror(t,{type:"error",key:"UndefinedName",subject:n}),this.skip(e,t,r)):(r.push(s.code),s.ty)}SetName(e,t,r){const n=t.tokenize(),s=e.get(n);return void 0===s?(e.perror(t,{type:"error",key:"UndefinedName",subject:n}),this.skip(e,t,r)):s.isMutable?(r.push(s.code),s.ty):(e.perror(t,{type:"error",key:"Immutable",subject:n}),this.skip(e,t,r))}And(e,t,r){return this.check(bt,e,t.left,r),r.push(" && "),this.check(bt,e,t.right,r),bt}Or(e,t,r){return this.check(bt,e,t.left,r),r.push(" || "),this.check(bt,e,t.right,r),bt}Not(e,t,r){return r.push("!("),this.check(bt,e,t[0],r),r.push(")"),bt}Infix(e,t,r){const n=Gt(t.tokenize("name")),s=[],o=[],i=this.check(qt(n),e,t.left,s),a=this.check(Xt(n,i),e,t.right,o);return this.checkBinary(e,t,n,i,s.join(""),a,o.join(""),r)}Unary(e,t,r){const n=t.tokenize("name");return"!"===n||"not"===n?(r.push("".concat(n,"(")),this.check(bt,e,t.expr,r),r.push(")"),bt):(r.push("".concat(n,"(")),this.check(yt,e,t.expr,r),r.push(")"),yt)}ApplyExpr(e,t,r){const n=t.tokenize("name"),s=e.get(n);if(void 0===s){const s=zt[n];if(void 0!==s)return console.log("importing ".concat(s," ...")),e.from_import(Vt[s]),e.perror(t.name,{type:"info",key:"InferredPackage",subject:s,code:"from ".concat(s," import *")}),this.ApplySymbolExpr(e,t,e.get(n),void 0,r)}return this.ApplySymbolExpr(e,t,s,void 0,r)}ApplySymbolExpr(e,t,r,n,s){if(void 0===r)return e.perror(t.name,{type:"error",key:"UnknownName",subject:t.name.tokenize()}),this.skip(e,t,s);s.push(r.code),s.push("(");const o=t.params.subs();void 0!==n&&o.unshift(n);var i=r.ty;if(!(i instanceof ut))return e.perror(t.name,{type:"error",key:"NotFunction",subject:t.name.tokenize()}),this.skip(e,t,s);i.hasAlpha()&&(i=i.toVarType({env:e,ref:t}));for(var a=0;a<o.length;a+=1){if(!(a<i.psize())){e.perror(o[a],{type:"warning",key:"TooManyArguments",subject:o[a]});break}a>0&&s.push(",");const t=i.ptype(a);this.check(t,e,o[a],s)}return o.length<i.psize()&&(i.ptype(o.length)||e.perror(t.name,Yt(t.inputs,t.params.epos,{type:"error",key:"RequiredArguments"}))),s.push(")"),e.foundFunc(t,r),i.rtype()}MethodExpr(e,t,r){const n=t.tokenize("recv");if(e.isModule(n)){const s=e.getModule(n,t.tokenize("name"));return this.ApplySymbolExpr(e,t,s,void 0,r)}const s=".".concat(t.tokenize("name")),o=e.get(s);return this.ApplySymbolExpr(e,t,o,t.recv,r)}SelfAssign(e,t,r){const n=t.left.tag;return t.left.tag="Set".concat(n),this.conv(e,t.left,r),r.push(" = "),t.left.tag=n,this.Infix(e,t,r),mt}GetExpr(e,t,r){const n=t.tokenize("recv");if(e.isModule(n)){const s=e.getModule(n,t.tokenize("name"));return r.push(s.code),s.ty}r.push("lib.get("),this.check(Ot,e,t.recv,r);const s=t.tokenize("name"),o=Ht[s]||new At(e,t.name);return r.push(",'".concat(s,"'").concat(e.trace(t.name),")")),o}SetGetExpr(e,t,r){const n=t.tokenize("recv");if(e.isModule(n))return e.perror(t,{type:"error",key:"Immutable",subject:t.tokenize()}),this.skip(e,t,r);const s=t.tokenize("name");this.check(Ot,e,t.recv,r),r.push(".".concat(s));const o=Ht[s]||new At(e,t.name);return o instanceof ht?o.ptype(0):o}IndexExpr(e,t,r){r.push("lib.index(");const n=this.check(dt(new pt(new At(e,t)),_t),e,t.recv,r);return r.push(","),this.check(yt,e,t.index,r),r.push("".concat(e.trace(t.index),")")),n instanceof pt?n.ptype(0):n}SetIndexExpr(e,t,r){const n=this.check(xt,e,t.recv,r);return r.push("["),this.check(yt,e,t.index,r),r.push("]"),n instanceof pt?n.ptype(0):n}Data(e,t,r){r.push("{");for(const n of Qt(t))this.conv(e,n,r),r.push(",");return r.push("}"),Mt}KeyValue(e,t,r){const n=t.tokenize("name");r.push("'".concat(n,"': "));const s=Ht[n];return void 0===s?(e.perror(t.name,{type:"warning",key:"UnknownName",subject:n}),this.conv(e,t.value,r)):this.check(s,e,t.value,r),mt}Tuple(e,t,r){const n=Qt(t);if(n.length>2)return e.perror(t,{type:"warning",key:"ListSyntaxError"}),this.List(e,t,r);if(1==n.length){r.push("(");const t=this.conv(e,n[0],r);return r.push(")"),t}return r.push("{ x: "),this.check(yt,e,n[0],r),r.push(", y: "),this.check(yt,e,n[1],r),r.push("}"),Tt}List(e,t,r){var n=new At(e,t);r.push("[");for(const s of Qt(t))n=this.check(n,e,s,r,{type:"error",key:"AllTypeAsSame"}),r.push(",");return r.push("]"),new pt(n)}Format(e,t,r){var n=0;r.push("(");for(const s of Qt(t)){if(n>0&&r.push("+"),"StringPart"===s.tag)r.push("'".concat(s.tokenize(),"'"));else{const t=[];this.conv(e,s,t)===_t?r.push(t.join("")):r.push("lib.str(".concat(t.join(""),")"))}n++}return r.push(")"),_t}TrueExpr(e,t,r){return r.push("true"),bt}FalseExpr(e,t,r){return r.push("false"),bt}Int(e,t,r){return r.push(t.tokenize()),yt}Float(e,t,r){return r.push(t.tokenize()),vt}Double(e,t,r){return r.push(t.tokenize()),vt}String(e,t,r){return r.push(t.tokenize()),_t}Char(e,t,r){return r.push(t.tokenize()),_t}MultiString(e,t,r){return r.push(JSON.stringify(JSON.parse(t.tokenize()))),_t}}const er=nt("Source"),tr=e=>{const t=er(e),r=new Zt;r.from_import(Bt);const n=[];return(new $t).conv(r,t,n),console.log(r.get("@logs")),n.join("")},rr=e=>{const t=er(e.source),r=new Zt;r.from_import(Bt);const n=[];(new $t).conv(r,t,n);const s=n.join(""),o="\nreturn {\n  main: async function*(puppy) {\n\tconst lib = puppy.lib;\n\tconst vars = puppy.vars;\n".concat(s,"\n  },\n}");var i={};try{i=new Function(o)()}catch(a){r.perror(t,{type:"error",key:"CompileError",subject:a.toString()})}return i.world={},i.tree=t,i.code=s,i.errors=r.get("@logs"),i};console.log(tr("\nif True :\n  1\nelif True :\n  2\nelif True :\n  3\nelse :\n  4\n")),console.log(tr("\nfor x in range(1,2):\n  for y in range(x,2):\n    x+y\n"));const nr=(e,t)=>{let r=0;const n=[];for(const s of t.errors)"error"===s.type&&(r+=1),n.push(s);return e((e=>({type:m.SET_MARKER,payload:{markers:e.map(e=>({severity:S(e.type),startLineNumber:e.row+1,startColumn:e.col,endLineNumber:e.row+1,endColumn:e.col+e.len,message:e.key}))}}))(n)),0===r?(e(N("vs")),!1):(e(N("error")),!0)};let sr=null;const or=e=>(t,r,n,s=!1,o=!1)=>{const i=rr({source:r});return console.log(i),nr(e,i)||(sr&&sr.dispose(),sr=((e,t,r,n=!1)=>{if(null!=e&&!r&&t&&e.isRunning(),t){null!=e&&e.dispose();const r=new _e(Ee,t,n);return r.runCode(),r}return null})(t,i,n,s),e((e=>({type:M.SET_PUPPY,payload:{puppy:e}}))(sr))),sr},ir=e=>fetch(e,{method:"GET"}).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(e=>e),ar=e=>t=>ir("/LIVE2019/course/".concat(t,"/setting.json")).then(e=>JSON.parse(e)).then(t=>{e(C(t))}).catch(e=>{console.log("ERR ".concat(e))}),cr=e=>(t,r)=>ir("/LIVE2019/course/".concat(t,"/").concat(r,"/index.md")).then(t=>e(A(t))),lr=e=>(t,r,n,s)=>{const o=window.sessionStorage.getItem("/LIVE2019/course/".concat(r,"/").concat(s,"/sample.py"));o?(e(E(o)),or(e)(t,o,!1)):ir("/LIVE2019/course/".concat(r,"/").concat(s,"/sample.py")).then(r=>{e(E(r)),or(e)(t,r,!1)})},ur=async e=>{return Ae.dispatch(U(!0)),Ae.dispatch((e=>({type:B.SET_PLACEHOLDER,payload:{placeholder:e}}))(e)),await(e=>new Promise(t=>{e.addEventListener("submit",t,{once:!0})}))(document.getElementById("puppy-input-form")),Ae.getState().input.value},pr=()=>Ae.getState().puppy.isLive,hr=()=>{const e=Ae.getState().editor.diffStartLineNumber;return null===e?0:e},dr=(e,t)=>{const r=Ae.getState().editor.codeEditor,n=Ae.getState().editor.decoration;Ae.dispatch(w(r.deltaDecorations(n,[{range:new g.Range(e,1,t,1),options:{isWholeLine:!0,className:"code-highlight"}}])))},fr=()=>{const e=Ae.getState().editor.codeEditor,t=Ae.getState().editor.decoration;Ae.dispatch(w(e.deltaDecorations(t,[])))},mr=e=>()=>{const t={},r=[];["Puppy","PuppyCourse","LIVE2019"].forEach(e=>{r.push(ir("/LIVE2019/course/".concat(e,"/setting.json")).then(e=>JSON.parse(e)).then(r=>{t[e]=r}))}),Promise.all(r).then(()=>e((e=>({type:O.SET_COURSES,payload:{courses:e}}))(t)))};var br=Object(a.b)(e=>({course:e.course.course,courses:e.course.courses}),e=>({fetchCourses:mr(e),setShow:t=>e(xe(t))}))(b),yr=r(303),gr=r.n(yr),vr=(r(409),r(302)),_r=r(435),Er=r(128),wr=r(119),Sr="/Users/shonanking/lab/project/LIVE2019/src/components/Editor/Editor.tsx";g.editor.defineTheme("error",{base:"vs",inherit:!0,rules:[],colors:{"editor.background":"#ffb7b7"}});const Nr=e=>{return s.a.createElement("div",{id:"editor-footer",__source:{fileName:Sr,lineNumber:46},__self:void 0},s.a.createElement(vr.a,{onClick:()=>e.setIsLive(!e.isLive),__source:{fileName:Sr,lineNumber:47},__self:void 0},e.isLive?s.a.createElement(_r.a,{animation:"grow",variant:"light",size:"sm",__source:{fileName:Sr,lineNumber:49},__self:void 0}):s.a.createElement(Er.a,{icon:wr.g,__source:{fileName:Sr,lineNumber:51},__self:void 0})," LIVE"),s.a.createElement(vr.a,{onClick:()=>{e.setFontSize(e.fontSize+3)},__source:{fileName:Sr,lineNumber:55},__self:void 0},s.a.createElement(Er.a,{icon:wr.h,__source:{fileName:Sr,lineNumber:56},__self:void 0})),s.a.createElement(vr.a,{onClick:()=>{e.setFontSize(Math.max(12,e.fontSize-3))},__source:{fileName:Sr,lineNumber:58},__self:void 0},s.a.createElement(Er.a,{icon:wr.f,__source:{fileName:Sr,lineNumber:59},__self:void 0})))};let xr,Or,Tr;var kr=e=>{const t={selectOnLineNumbers:!0,fontSize:e.fontSize,wordWrap:"on"};addEventListener("resize",()=>{clearTimeout(xr),xr=setTimeout(function(){e.setSize(document.getElementById("right-col").clientWidth,document.getElementById("right-col").clientHeight)},300)}),Object(n.useEffect)(()=>{e.setSize(document.getElementById("right-col").clientWidth,document.getElementById("right-col").clientHeight)},[]);"piyo".startsWith("hoge");return s.a.createElement("div",{id:"puppy-editor",__source:{fileName:Sr,lineNumber:194},__self:void 0},s.a.createElement(gr.a,{width:e.width,height:e.height,language:"python",theme:e.theme,value:e.code,options:t,onChange:(t,r)=>{let n=e.diffStartLineNumber;r.changes.map(e=>{n=null===n?e.range.startLineNumber:Math.min(n,e.range.startLineNumber)}),null!==n&&e.setDiffStartLineNumber(n),e.setCode(t),e.codeEditor&&(t=>{const r=t.getModel().findMatches("[\uff01\u3000\u201d\uff03\uff04\uff05\uff06\u2019\uff08\uff09\uff0a\uff0b\uff0c\uff0d\uff0e\uff0f\uff1a\uff1b\uff1c\uff1d\uff1e\uff1f\uff20\uff3b\uff3c\uffe5\uff3d\uff3e\uff3f\u2018\uff5b\uff5c\uff5d\uff5e\uffe3\uff21\uff22\uff23\uff24\uff25\uff26\uff27\uff28\uff29\uff2a\uff2b\uff2c\uff2d\uff2e\uff2f\uff30\uff31\uff32\uff33\uff34\uff35\uff36\uff37\uff38\uff39\uff3a\uff41\uff42\uff43\uff44\uff45\uff46\uff47\uff48\uff49\uff4a\uff4b\uff4c\uff4d\uff4e\uff4f\uff50\uff51\uff52\uff53\uff54\uff55\uff56\uff57\uff58\uff59\uff5a\uff11\uff12\uff13\uff14\uff15\uff16\uff17\uff18\uff19\uff10\uff61\uff62\uff63\uff64\uff65\uff66\uff67\uff68\uff69\uff6a\uff6b\uff6c\uff6d\uff6e\uff6f\uff71\uff72\uff73\uff74\uff75\uff76\uff77\uff78\uff79\uff7a\uff7b\uff7c\uff7d\uff7e\uff7f\uff80\uff81\uff82\uff83\uff84\uff85\uff86\uff87\uff88\uff89\uff8a\uff8b\uff8c\uff8d\uff89\uff8f\uff90\uff91\uff92\uff93\uff94\uff95\uff96\uff97\uff98\uff99\uff9a\uff9b\uff9c\uff9d\uff9e\uff9f]",!0,!0,!1,null,!1).map(e=>({range:e.range,options:{inlineClassName:"zenkakuClass"}}));e.setDecoration(t.deltaDecorations(e.decoration,r))})(e.codeEditor),e.isLive&&(Or&&(clearTimeout(Or),Or=null),Or=setTimeout(()=>{(t=>{Tr&&(clearTimeout(Tr),Tr=null),Tr=setTimeout(()=>{t&&t.start(),e.setDiffStartLineNumber(null)},1500)})(e.trancepile(e.puppy,t,!1,!0,!0)),window.sessionStorage.setItem("/api/sample/".concat(e.coursePath,"/").concat(e.page),t)},100))},editorDidMount:t=>{e.setCodeEditor(t)},__source:{fileName:Sr,lineNumber:195},__self:void 0}),s.a.createElement(Nr,{setFontSize:e.setFontSize,fontSize:e.fontSize,setIsLive:e.setIsLive,isLive:e.isLive,__source:{fileName:Sr,lineNumber:205},__self:void 0}))};var Ir=Object(a.b)((e,t)=>({width:e.editor.width,height:e.editor.height,codeEditor:e.editor.codeEditor,decoration:e.editor.decoration,theme:e.editor.theme,fontSize:e.editor.fontSize,code:e.editor.code,diffStartLineNumber:e.editor.diffStartLineNumber,puppy:e.puppy.puppy,isLive:e.puppy.isLive,coursePath:t.coursePath,page:t.page}),e=>({setCode:t=>e(E(t)),setSize:(t,r)=>e(((e,t)=>({type:m.SET_SIZE,payload:{width:e,height:t}}))(t,r)),setCodeEditor:t=>e((e=>({type:m.SET_CODEEDITOR,payload:{codeEditor:e}}))(t)),setDecoration:t=>e(w(t)),setFontSize:t=>e((e=>({type:m.SET_FONTSIZE,payload:{value:e}}))(t)),setDiffStartLineNumber:t=>e((e=>({type:m.SET_DIFFSTARTLINENUMBER,payload:{startLineNumber:e}}))(t)),setIsLive:t=>e((e=>({type:M.SET_ISLIVE,payload:{isLive:e}}))(t)),trancepile:or(e)}))(kr),Ar=(r(410),"/Users/shonanking/lab/project/LIVE2019/src/components/PuppyScreen/PuppyScreen.tsx");const Cr=e=>{return s.a.createElement("div",{id:"puppy-footer",__source:{fileName:Ar,lineNumber:43},__self:void 0},s.a.createElement(vr.a,{onClick:()=>e.trancepile(e.puppy,e.code,!0),__source:{fileName:Ar,lineNumber:44},__self:void 0},s.a.createElement(Er.a,{icon:wr.g,__source:{fileName:Ar,lineNumber:45},__self:void 0})," Play"),s.a.createElement(vr.a,{onClick:()=>{if(null!=e.puppy){const t=e.puppy.getCanvas();if(t)if(t.webkitRequestFullscreen)t.webkitRequestFullscreen();else if(t.mozRequestFullScreen)t.mozRequestFullScreen();else if(t.msRequestFullscreen)t.msRequestFullscreen();else{if(!t.requestFullscreen)return;t.requestFullscreen()}}},__source:{fileName:Ar,lineNumber:48},__self:void 0},s.a.createElement(Er.a,{icon:wr.e,__source:{fileName:Ar,lineNumber:49},__self:void 0})),s.a.createElement(vr.a,{onClick:()=>e.setIsCourseVisible(!e.isCourseVisible),__source:{fileName:Ar,lineNumber:51},__self:void 0},s.a.createElement(Er.a,{icon:e.isCourseVisible?wr.a:wr.b,__source:{fileName:Ar,lineNumber:52},__self:void 0})))};let Pr=null;var Lr=e=>(addEventListener("resize",()=>{Pr&&(clearTimeout(Pr),Pr=null),Pr=setTimeout(function(){const t=document.getElementById("puppy-screen").clientWidth,r=document.getElementById("puppy-screen").clientHeight;e.setSize(t,r)},300)}),s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{id:"puppy-screen",__source:{fileName:Ar,lineNumber:79},__self:void 0}),s.a.createElement(Cr,{isCourseVisible:e.isCourseVisible,setIsCourseVisible:e.setIsCourseVisible,code:e.code,puppy:e.puppy,trancepile:e.trancepile,__source:{fileName:Ar,lineNumber:80},__self:void 0})));var Mr=Object(a.b)(e=>({isCourseVisible:e.course.visible,code:e.editor.code,puppy:e.puppy.puppy}),e=>({setIsCourseVisible:t=>e(P(t)),setSize:(t,r)=>e(((e,t)=>({type:M.SET_SIZE,payload:{width:e,height:t}}))(t,r)),trancepile:or(e)}))(Lr),jr=r(304),Fr=r(444),Dr=(r(411),r(412),"/Users/shonanking/lab/project/LIVE2019/src/components/Course/Course.tsx");var Rr=e=>(Object(n.useEffect)(()=>{0!==e.course.list.length&&(e.fetchContent(e.coursePath,e.course.list[e.page].path),e.fetchSample(e.puppy,e.coursePath,e.page,e.course.list[e.page].path))},[e.page,e.coursePath,e.course]),Object(n.useEffect)(()=>{e.fetchSetting(e.coursePath)},[e.coursePath]),s.a.createElement("div",{id:"puppy-course",style:{visibility:e.visible?"visible":"hidden"},__source:{fileName:Dr,lineNumber:57},__self:void 0},s.a.createElement(Fr.a,{className:"course-all",__source:{fileName:Dr,lineNumber:61},__self:void 0},s.a.createElement(Fr.a.Header,{className:"course-header",__source:{fileName:Dr,lineNumber:62},__self:void 0},s.a.createElement(l.a,{__source:{fileName:Dr,lineNumber:63},__self:void 0},s.a.createElement("button",{className:"close-button",onClick:()=>e.setVisible(!1),__source:{fileName:Dr,lineNumber:64},__self:void 0},s.a.createElement(Er.a,{icon:wr.i,__source:{fileName:Dr,lineNumber:68},__self:void 0}))),s.a.createElement(l.a,{__source:{fileName:Dr,lineNumber:71},__self:void 0},s.a.createElement(u.a,{className:"card-header-left",xs:6,__source:{fileName:Dr,lineNumber:72},__self:void 0},e.course.list&&0!==e.course.list.length&&0!==e.page?s.a.createElement("a",{href:"#".concat(e.page-1),__source:{fileName:Dr,lineNumber:76},__self:void 0},s.a.createElement(Er.a,{icon:wr.c,__source:{fileName:Dr,lineNumber:77},__self:void 0})," ".concat(e.course.list[e.page-1].title)):null),s.a.createElement(u.a,{className:"card-header-right",xs:6,__source:{fileName:Dr,lineNumber:82},__self:void 0},e.course.list&&0!==e.course.list.length&&e.page!==e.course.list.length-1?s.a.createElement("a",{href:"#".concat(e.page+1),__source:{fileName:Dr,lineNumber:86},__self:void 0},"".concat(e.course.list[e.page+1].title," "),s.a.createElement(Er.a,{icon:wr.d,__source:{fileName:Dr,lineNumber:88},__self:void 0})):null))),s.a.createElement(Fr.a.Body,{className:"course-body",__source:{fileName:Dr,lineNumber:94},__self:void 0},s.a.createElement("div",{className:"markdown-body",dangerouslySetInnerHTML:{__html:jr(e.content)},__source:{fileName:Dr,lineNumber:95},__self:void 0})))));var Br=Object(a.b)((e,t)=>({course:e.course.course,puppy:e.puppy.puppy,coursePath:t.coursePath,page:t.page,content:e.course.content,visible:e.course.visible}),e=>({setContent:t=>e(A(t)),setCourse:t=>e(C(t)),setCode:t=>e(E(t)),setVisible:t=>e(P(t)),fetchContent:cr(e),fetchSample:lr(e),fetchSetting:ar(e)}))(Rr),Vr=r(439),zr=r(440),Hr=r(437),Ur=r(307),Wr="/Users/shonanking/lab/project/LIVE2019/src/components/Input/Input.tsx";var Gr=e=>s.a.createElement(Vr.a,{size:"lg",show:e.show,centered:!0,__source:{fileName:Wr,lineNumber:19},__self:void 0},s.a.createElement(Vr.a.Body,{__source:{fileName:Wr,lineNumber:20},__self:void 0},s.a.createElement(zr.a,{id:"puppy-input-form",onSubmit:()=>e.setShow(!1),__source:{fileName:Wr,lineNumber:21},__self:void 0},s.a.createElement(Hr.a,{className:"mb-3",__source:{fileName:Wr,lineNumber:22},__self:void 0},s.a.createElement(Ur.a,{placeholder:e.placeholder,value:e.value,onChange:t=>e.setValue(t.target.value),__source:{fileName:Wr,lineNumber:23},__self:void 0}),s.a.createElement(Hr.a.Append,{__source:{fileName:Wr,lineNumber:28},__self:void 0},s.a.createElement(vr.a,{type:"submit",__source:{fileName:Wr,lineNumber:29},__self:void 0},"\u9001\u4fe1\u3059\u308b"))))));var Kr=Object(a.b)(e=>({show:e.input.show,value:e.input.value,placeholder:e.input.placeholder}),e=>({setShow:t=>e(U(t)),setValue:t=>e((e=>({type:B.SET_VALUE,payload:{value:e}}))(t))}))(Gr),qr="/Users/shonanking/lab/project/LIVE2019/src/components/Version/Version.tsx";var Xr=e=>s.a.createElement(s.a.Fragment,null,s.a.createElement(Vr.a,{show:e.show,onHide:()=>e.setShow(!1),__source:{fileName:qr,lineNumber:12},__self:void 0},s.a.createElement(Vr.a.Header,{closeButton:!0,__source:{fileName:qr,lineNumber:13},__self:void 0},s.a.createElement(Vr.a.Title,{__source:{fileName:qr,lineNumber:14},__self:void 0},"Modal heading")),s.a.createElement(Vr.a.Body,{__source:{fileName:qr,lineNumber:16},__self:void 0},"Woohoo, you're reading this text in a modal!"),s.a.createElement(Vr.a.Footer,{__source:{fileName:qr,lineNumber:19},__self:void 0},s.a.createElement(vr.a,{variant:"secondary",onClick:()=>e.setShow(!1),__source:{fileName:qr,lineNumber:20},__self:void 0},"Close"),s.a.createElement(vr.a,{variant:"primary",onClick:()=>e.setShow(!1),__source:{fileName:qr,lineNumber:23},__self:void 0},"Save Changes"))));var Yr=Object(a.b)(e=>({show:e.version.show}),e=>({setShow:t=>e(xe(t))}))(Xr),Zr="/Users/shonanking/lab/project/LIVE2019/src/App.tsx";var Jr=e=>{const t=e.qs.course?e.qs.course:"LIVE2019",r=""!==e.hash?parseInt(e.hash.substr(1)):0;return s.a.createElement("div",{className:"App",__source:{fileName:Zr,lineNumber:18},__self:void 0},s.a.createElement(c.a,{className:"container",__source:{fileName:Zr,lineNumber:19},__self:void 0},s.a.createElement(br,{__source:{fileName:Zr,lineNumber:20},__self:void 0}),s.a.createElement(Kr,{__source:{fileName:Zr,lineNumber:21},__self:void 0}),s.a.createElement(Yr,{__source:{fileName:Zr,lineNumber:22},__self:void 0}),s.a.createElement(l.a,{id:"main-row",__source:{fileName:Zr,lineNumber:23},__self:void 0},s.a.createElement(u.a,{id:"left-col",xs:6,__source:{fileName:Zr,lineNumber:24},__self:void 0},s.a.createElement(Br,{coursePath:t,page:r,__source:{fileName:Zr,lineNumber:25},__self:void 0}),s.a.createElement(Mr,{__source:{fileName:Zr,lineNumber:26},__self:void 0})),s.a.createElement(u.a,{id:"right-col",xs:6,__source:{fileName:Zr,lineNumber:28},__self:void 0},s.a.createElement(Ir,{coursePath:t,page:r,__source:{fileName:Zr,lineNumber:29},__self:void 0})))))},Qr=r(308),$r=r(166),en="/Users/shonanking/lab/project/LIVE2019/src/index.tsx";const tn=e=>e.substr(1).split("&").reduce((e,t)=>{const r=t.split("=");return e[r[0]]=r[1],e},{});i.a.render(s.a.createElement(a.a,{store:Ie,__source:{fileName:en,lineNumber:24},__self:void 0},s.a.createElement(Qr.a,{__source:{fileName:en,lineNumber:25},__self:void 0},s.a.createElement($r.a,{render:e=>s.a.createElement(Jr,{qs:tn(e.location.search),hash:e.location.hash,__source:{fileName:en,lineNumber:28},__self:void 0}),__source:{fileName:en,lineNumber:26},__self:void 0}))),document.getElementById("root"))}},[[309,2,3]]]);
//# sourceMappingURL=main.c6afc238.chunk.js.map